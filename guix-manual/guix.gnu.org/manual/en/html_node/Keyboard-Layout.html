<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--   Copyright (C) 2012-2022 Ludovic Courtès

Copyright (C) 2013, 2014, 2016 Andreas Enge

Copyright (C) 2013 Nikita Karetnikov

Copyright (C) 2014, 2015, 2016 Alex Kost

Copyright (C) 2015, 2016 Mathieu Lirzin

Copyright (C) 2014 Pierre-Antoine Rault

Copyright (C) 2015 Taylan Ulrich Bayırlı/Kammer

Copyright (C) 2015, 2016, 2017, 2019, 2020, 2021 Leo Famulari

Copyright (C) 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022 Ricardo Wurmus

Copyright (C) 2016 Ben Woodcroft

Copyright (C) 2016, 2017, 2018, 2021 Chris Marusich

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021, 2022 Efraim Flashner

Copyright (C) 2016 John Darrington

Copyright (C) 2016, 2017 Nikita Gillmann

Copyright (C) 2016, 2017, 2018, 2019, 2020 Jan Nieuwenhuizen

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Julien Lepiller

Copyright (C) 2016 Alex ter Weele

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Christopher Baines

Copyright (C) 2017, 2018, 2019 Clément Lassieur

Copyright (C) 2017, 2018, 2020, 2021, 2022 Mathieu Othacehe

Copyright (C) 2017 Federico Beffa

Copyright (C) 2017, 2018 Carlo Zancanaro

Copyright (C) 2017 Thomas Danckaert

Copyright (C) 2017 humanitiesNerd

Copyright (C) 2017, 2021 Christine Lemmer-Webber

Copyright (C) 2017, 2018, 2019, 2020, 2021, 2022 Marius Bakke

Copyright (C) 2017, 2019, 2020, 2022 Hartmut Goebel

Copyright (C) 2017, 2019, 2020, 2021, 2022 Maxim Cournoyer

Copyright (C) 2017–2022 Tobias Geerinckx-Rice

Copyright (C) 2017 George Clemmer

Copyright (C) 2017 Andy Wingo

Copyright (C) 2017, 2018, 2019, 2020 Arun Isaac

Copyright (C) 2017 nee

Copyright (C) 2018 Rutger Helling

Copyright (C) 2018, 2021 Oleg Pykhalov

Copyright (C) 2018 Mike Gerwitz

Copyright (C) 2018 Pierre-Antoine Rouby

Copyright (C) 2018, 2019 Gábor Boskovits

Copyright (C) 2018, 2019, 2020, 2022 Florian Pelz

Copyright (C) 2018 Laura Lazzati

Copyright (C) 2018 Alex Vong

Copyright (C) 2019 Josh Holland

Copyright (C) 2019, 2020 Diego Nicola Barbato

Copyright (C) 2019 Ivan Petkov

Copyright (C) 2019 Jakob L. Kreuze

Copyright (C) 2019 Kyle Andrews

Copyright (C) 2019 Alex Griffin

Copyright (C) 2019, 2020, 2021, 2022 Guillaume Le Vaillant

Copyright (C) 2020 Liliana Marie Prikler

Copyright (C) 2019, 2020, 2021, 2022 Simon Tournier

Copyright (C) 2020 Wiktor Żelazny

Copyright (C) 2020 Damien Cassou

Copyright (C) 2020 Jakub Kądziołka

Copyright (C) 2020 Jack Hill

Copyright (C) 2020 Naga Malleswari

Copyright (C) 2020, 2021 Brice Waegeneire

Copyright (C) 2020 R Veera Kumar

Copyright (C) 2020, 2021 Pierre Langlois

Copyright (C) 2020 pinoaffe

Copyright (C) 2020 André Batista

Copyright (C) 2020, 2021 Alexandru-Sergiu Marton

Copyright (C) 2020 raingloom

Copyright (C) 2020 Daniel Brooks

Copyright (C) 2020 John Soo

Copyright (C) 2020 Jonathan Brielmaier

Copyright (C) 2020 Edgar Vincent

Copyright (C) 2021, 2022 Maxime Devos

Copyright (C) 2021 B. Wilson

Copyright (C) 2021 Xinglu Chen

Copyright (C) 2021 Raghav Gururajan

Copyright (C) 2021 Domagoj Stolfa

Copyright (C) 2021 Hui Lu

Copyright (C) 2021 pukkamustard

Copyright (C) 2021 Alice Brenon

Copyright (C) 2021, 2022 Josselin Poiret

Copyright (C) 2021 muradm

Copyright (C) 2021, 2022 Andrew Tropin

Copyright (C) 2021 Sarah Morgensen

Copyright (C) 2022 Remco van 't Veer

Copyright (C) 2022 Aleksandr Vityazev

Copyright (C) 2022 Philip McGrath

Copyright (C) 2022 Karl Hallsby

Copyright (C) 2022 Justin Veilleux

Copyright (C) 2022 Reily Siegel

Copyright (C) 2022 Simon Streit

Copyright (C) 2022 (

Copyright (C) 2022 John Kehayias


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License".   -->
<!--   Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/   -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Keyboard Layout (GNU Guix Reference Manual)</title>

<meta name="description" content="Keyboard Layout (GNU Guix Reference Manual)" />
<meta name="keywords" content="Keyboard Layout (GNU Guix Reference Manual)" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="Generator" content="makeinfo" />
<link href="index.html" rel="start" title="Top" />
<link href="Concept-Index.html" rel="index" title="Concept Index" />
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents" />
<link href="System-Configuration.html" rel="up" title="System Configuration" />
<link href="Locales.html" rel="next" title="Locales" />
<link href="User-Accounts.html" rel="prev" title="User Accounts" />
<style type="text/css">
&amp;lt;!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
--&amp;gt;
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/gnulib/manual.css" />

<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" type="text/css" href="../../../static/base/css/manual.css" /><link rel="stylesheet" type="text/css" href="../../../static/base/css/code.css" /></head>

<body lang="en"><header class="navbar"><h1><a class="branding" href="https://guix.gnu.org/manual/en/"></a></h1><nav class="navbar-menu"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="all-dropdowns-hidden" /><ul><li class="navbar-menu-item dropdown dropdown-btn"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="visible-dropdown" /><label for="visible-dropdown"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><label for="all-dropdowns-hidden"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><div class="navbar-submenu" id="navbar-submenu"><div class="navbar-submenu-triangle"> </div><ul><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/de/html_node">Deutsch</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/en/html_node">English</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/es/html_node">Español</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/fr/html_node">français</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/pt-br/html_node">Português</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/ru/html_node">русский</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/zh-cn/html_node">中文</a></li><li><a class="navbar-menu-item" href="https://translate.fedoraproject.org/projects/guix/documentation-manual/">⊕</a></li></ul></div></li></ul></nav><a class="navbar-menu-btn" href="https://guix.gnu.org/manual/"></a></header>
<span id="Keyboard-Layout"></span><div class="header">
<p>
Next: <a href="Locales.html" accesskey="n" rel="next">Locales</a>, Previous: <a href="User-Accounts.html" accesskey="p" rel="prev">User Accounts</a>, Up: <a href="System-Configuration.html" accesskey="u" rel="up">System Configuration</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr />
<span id="Keyboard-Layout-2"></span><h3 class="section">12.7 Keyboard Layout</h3>

<span id="index-keyboard-layout-1"></span>
<span id="index-keymap"></span>
<p>To specify what each key of your keyboard does, you need to tell the operating
system what <em>keyboard layout</em> you want to use.  The default, when nothing
is specified, is the US English QWERTY layout for 105-key PC keyboards.
However, German speakers will usually prefer the German QWERTZ layout, French
speakers will want the AZERTY layout, and so on; hackers might prefer Dvorak
or bépo, and they might even want to further customize the effect of some of
the keys.  This section explains how to get that done.
</p>
<span id="index-keyboard-layout_002c-definition"></span>
<p>There are three components that will want to know about your keyboard layout:
</p>
<ul>
<li> The <em>bootloader</em> may want to know what keyboard layout you want to use
(see <a href="Bootloader-Configuration.html"><code>keyboard-layout</code></a>).  This is useful if
you want, for instance, to make sure that you can type the passphrase of your
encrypted root partition using the right layout.

</li><li> The <em>operating system kernel</em>, Linux, will need that so that the console
is properly configured (see <a href="operating_002dsystem-Reference.html"><code>keyboard-layout</code></a>).

</li><li> The <em>graphical display server</em>, usually Xorg, also has its own idea of
the keyboard layout (see <a href="X-Window.html"><code>keyboard-layout</code></a>).
</li></ul>

<p>Guix allows you to configure all three separately but, fortunately, it allows
you to share the same keyboard layout for all three components.
</p>
<span id="index-XKB_002c-keyboard-layouts"></span>
<p>Keyboard layouts are represented by records created by the
<code>keyboard-layout</code> procedure of <code>(gnu system keyboard)</code>.  Following
the X Keyboard extension (XKB), each layout has four attributes: a name (often
a language code such as &ldquo;fi&rdquo; for Finnish or &ldquo;jp&rdquo; for Japanese), an
optional variant name, an optional keyboard model name, and a possibly empty
list of additional options.  In most cases the layout name is all you care
about.
</p>
<dl>
<dt id="index-keyboard_002dlayout" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">keyboard-layout <var>name</var> [<var>variant</var>]                 [#:model] [#:options '()]</span></dt>
<dd><p>Return a new keyboard layout with the given <var>name</var> and <var>variant</var>.
</p>
<p><var>name</var> must be a string such as <code>"fr"</code>; <var>variant</var> must be a
string such as <code>"bepo"</code> or <code>"nodeadkeys"</code>.  See the
<code>xkeyboard-config</code> package for valid options.
</p></dd></dl>

<p>Here are a few examples:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-comment">;; The German QWERTZ layout.  Here we assume a standard
</span><span class="syntax-comment">;; "pc105" keyboard model.
</span><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"de"</span></span>)</span>

<span class="syntax-comment">;; The bépo variant of the French layout.
</span><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"fr"</span> <span class="syntax-string">"bepo"</span></span>)</span>

<span class="syntax-comment">;; The Catalan layout.
</span><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"es"</span> <span class="syntax-string">"cat"</span></span>)</span>

<span class="syntax-comment">;; Arabic layout with "Alt-Shift" to switch to US layout.
</span><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"ar,us"</span> <span class="syntax-keyword">#:options</span> <span class="syntax-symbol">'</span><span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-string">"grp:alt_shift_toggle"</span></span>)</span></span>)</span>

<span class="syntax-comment">;; The Latin American Spanish layout.  In addition, the
</span><span class="syntax-comment">;; "Caps Lock" key is used as an additional "Ctrl" key,
</span><span class="syntax-comment">;; and the "Menu" key is used as a "Compose" key to enter
</span><span class="syntax-comment">;; accented letters.
</span><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"latam"</span>
                 <span class="syntax-keyword">#:options</span> <span class="syntax-symbol">'</span><span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-string">"ctrl:nocaps"</span> <span class="syntax-string">"compose:menu"</span></span>)</span></span>)</span>

<span class="syntax-comment">;; The Russian layout for a ThinkPad keyboard.
</span><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"ru"</span> <span class="syntax-keyword">#:model</span> <span class="syntax-string">"thinkpad"</span></span>)</span>

<span class="syntax-comment">;; The "US international" layout, which is the US layout plus
</span><span class="syntax-comment">;; dead keys to enter accented characters.  This is for an
</span><span class="syntax-comment">;; Apple MacBook keyboard.
</span><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"us"</span> <span class="syntax-string">"intl"</span> <span class="syntax-keyword">#:model</span> <span class="syntax-string">"macbook78"</span></span>)</span>
</pre></div>

<p>See the <samp>share/X11/xkb</samp> directory of the <code>xkeyboard-config</code> package
for a complete list of supported layouts, variants, and models.
</p>
<span id="index-keyboard-layout_002c-configuration"></span>
<p>Let&rsquo;s say you want your system to use the Turkish keyboard layout throughout
your system&mdash;bootloader, console, and Xorg.  Here&rsquo;s what your system
configuration would look like:
</p>
<span id="index-set_002dxorg_002dconfiguration"></span>
<div class="lisp">
<pre class="lisp"><span class="syntax-comment">;; Using the Turkish layout for the bootloader, the console,
</span><span class="syntax-comment">;; and for Xorg.
</span>
<span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="operating_002dsystem-Reference.html#index-operating_002dsystem-1">operating-system</a>
  <span class="syntax-comment">;; ...
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <span class="syntax-string">"tr"</span></span>)</span></span>)</span>  <span class="syntax-comment">;for the console
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">bootloader</span> <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="Bootloader-Configuration.html#index-bootloader_002dconfiguration">bootloader-configuration</a>
                <span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-symbol">bootloader</span> <span class="syntax-symbol">grub-efi-bootloader</span></span>)</span>
                <span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-symbol">targets</span> <span class="syntax-symbol">'</span><span class="syntax-paren4">(<span class="syntax-symbol"><span class="syntax-string">"/boot/efi"</span></span>)</span></span>)</span>
                <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a></span>)</span></span>)</span></span>)</span> <span class="syntax-comment">;for GRUB
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">services</span> <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Pairs.html#index-cons">cons</a> <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-set_002dxorg_002dconfiguration-1">set-xorg-configuration</a>
                    <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-xorg_002dconfiguration">xorg-configuration</a>             <span class="syntax-comment">;for Xorg
</span>                      <span class="syntax-paren5">(<span class="syntax-symbol"><a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a> <a class="syntax-symbol" href="Keyboard-Layout.html#index-keyboard_002dlayout">keyboard-layout</a></span>)</span></span>)</span></span>)</span>
                  <a class="syntax-symbol" href="Desktop-Services.html#index-_0025desktop_002dservices">%desktop-services</a></span>)</span></span>)</span></span>)</span>
</pre></div>

<p>In the example above, for GRUB and for Xorg, we just refer to the
<code>keyboard-layout</code> field defined above, but we could just as well refer to
a different layout.  The <code>set-xorg-configuration</code> procedure communicates
the desired Xorg configuration to the graphical log-in manager, by default
GDM.
</p>
<p>We&rsquo;ve discussed how to specify the <em>default</em> keyboard layout of your
system when it starts, but you can also adjust it at run time:
</p>
<ul>
<li> If you&rsquo;re using GNOME, its settings panel has a &ldquo;Region &amp; Language&rdquo; entry
where you can select one or more keyboard layouts.

</li><li> Under Xorg, the <code>setxkbmap</code> command (from the same-named package)
allows you to change the current layout.  For example, this is how you would
change the layout to US Dvorak:

<div class="example">
<pre class="example">setxkbmap us dvorak
</pre></div>

</li><li> The <code>loadkeys</code> command changes the keyboard layout in effect in the Linux
console.  However, note that <code>loadkeys</code> does <em>not</em> use the XKB
keyboard layout categorization described above.  The command below loads the
French bépo layout:

<div class="example">
<pre class="example">loadkeys fr-bepo
</pre></div>
</li></ul>

<hr />
<div class="header">
<p>
Next: <a href="Locales.html" accesskey="n" rel="next">Locales</a>, Previous: <a href="User-Accounts.html" accesskey="p" rel="prev">User Accounts</a>, Up: <a href="System-Configuration.html" accesskey="u" rel="up">System Configuration</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
