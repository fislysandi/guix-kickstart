<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This manual documents Guile version 3.0.9.

Copyright (C) 1996-1997, 2000-2005, 2009-2023 Free Software Foundation,
Inc. 

Copyright (C) 2021 Maxime Devos

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License." -->
<title>texinfo docbook (Guile Reference Manual)</title>

<meta name="description" content="texinfo docbook (Guile Reference Manual)">
<meta name="keywords" content="texinfo docbook (Guile Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Texinfo-Processing.html" rel="up" title="Texinfo Processing">
<link href="texinfo-html.html" rel="next" title="texinfo html">
<link href="texinfo.html" rel="prev" title="texinfo">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/gnulib/manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="texinfo-docbook">
<div class="nav-panel">
<p>
Next: <a href="texinfo-html.html" accesskey="n" rel="next">(texinfo html)</a>, Previous: <a href="texinfo.html" accesskey="p" rel="prev">(texinfo)</a>, Up: <a href="Texinfo-Processing.html" accesskey="u" rel="up">Texinfo Processing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="g_t_0028texinfo-docbook_0029">7.22.2 (texinfo docbook)</h4>
<ul class="mini-toc">
<li><a href="#Overview-6" accesskey="1">Overview</a></li>
<li><a href="#Usage-6" accesskey="2">Usage</a></li>
</ul>
<div class="subsubsection-level-extent" id="Overview-6">
<h4 class="subsubsection">7.22.2.1 Overview</h4>
<p>This module exports procedures for transforming a limited subset of the
SXML representation of docbook into stexi. It is not complete by any
means. The intention is to gather a number of routines and stylesheets
so that external modules can parse specific subsets of docbook, for
example that set generated by certain tools.
</p>
</div>
<div class="subsubsection-level-extent" id="Usage-6">
<h4 class="subsubsection">7.22.2.2 Usage</h4>
<a class="anchor" id="texinfo-docbook-_002asdocbook_002d_003estexi_002drules_002a"></a><dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-_002asdocbook_002d_003estexi_002drules_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*sdocbook-&gt;stexi-rules*</strong><a class="copiable-link" href='#index-_002asdocbook_002d_003estexi_002drules_002a'> &para;</a></span></dt>
</dl>

<a class="anchor" id="texinfo-docbook-_002asdocbook_002dblock_002dcommands_002a"></a><dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-_002asdocbook_002dblock_002dcommands_002a"><span class="category-def">Variable: </span><span><strong class="def-name">*sdocbook-block-commands*</strong><a class="copiable-link" href='#index-_002asdocbook_002dblock_002dcommands_002a'> &para;</a></span></dt>
</dl>

<a class="anchor" id="texinfo-docbook-sdocbook_002dflatten"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-sdocbook_002dflatten"><span class="category-def">Function: </span><span><strong class="def-name">sdocbook-flatten</strong> <var class="def-var-arguments">sdocbook</var><a class="copiable-link" href='#index-sdocbook_002dflatten'> &para;</a></span></dt>
<dd><p>&quot;Flatten&quot; a fragment of sdocbook so that block elements do not nest
inside each other.
</p>
<p>Docbook is a nested format, where e.g. a <code class="code">refsect2</code> normally
appears inside a <code class="code">refsect1</code>. Logical divisions in the document are
represented via the tree topology; a <code class="code">refsect2</code> element
<em class="emph">contains</em> all of the elements in its section.
</p>
<p>On the contrary, texinfo is a flat format, in which sections are marked
off by standalone section headers like <code class="code">@subsection</code>, and block
elements do not nest inside each other.
</p>
<p>This function takes a nested sdocbook fragment <var class="var">sdocbook</var> and
flattens all of the sections, such that e.g.
</p>
<div class="example">
<pre class="example-preformatted"> (refsect1 (refsect2 (para &quot;Hello&quot;)))
</pre></div>

<p>becomes
</p>
<div class="example">
<pre class="example-preformatted"> ((refsect1) (refsect2) (para &quot;Hello&quot;))
</pre></div>

<p>Oftentimes (always?) sectioning elements have <code class="code">&lt;title&gt;</code> as their
first element child; users interested in processing the <code class="code">refsect*</code>
elements into proper sectioning elements like <code class="code">chapter</code> might be
interested in <code class="code">replace-titles</code> and <code class="code">filter-empty-elements</code>.
See <a class="xref" href="#texinfo-docbook-replace_002dtitles">replace-titles</a>, and <a class="ref" href="#texinfo-docbook-filter_002dempty_002delements">filter-empty-elements</a>.
</p>
<p>Returns a nodeset; that is to say, an untagged list of stexi elements.
See <a class="xref" href="SXPath.html">SXPath</a>, for the definition of a nodeset.
</p>
</dd></dl>

<a class="anchor" id="texinfo-docbook-filter_002dempty_002delements"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-filter_002dempty_002delements"><span class="category-def">Function: </span><span><strong class="def-name">filter-empty-elements</strong> <var class="def-var-arguments">sdocbook</var><a class="copiable-link" href='#index-filter_002dempty_002delements'> &para;</a></span></dt>
<dd><p>Filters out empty elements in an sdocbook nodeset. Mostly useful after
running <code class="code">sdocbook-flatten</code>.
</p>
</dd></dl>

<a class="anchor" id="texinfo-docbook-replace_002dtitles"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-replace_002dtitles"><span class="category-def">Function: </span><span><strong class="def-name">replace-titles</strong> <var class="def-var-arguments">sdocbook-fragment</var><a class="copiable-link" href='#index-replace_002dtitles'> &para;</a></span></dt>
<dd><p>Iterate over the sdocbook nodeset <var class="var">sdocbook-fragment</var>, transforming
contiguous <code class="code">refsect</code> and <code class="code">title</code> elements into the appropriate
texinfo sectioning command. Most useful after having run
<code class="code">sdocbook-flatten</code>.
</p>
<p>For example:
</p>
<div class="example">
<pre class="example-preformatted"> (replace-titles '((refsect1) (title &quot;Foo&quot;) (para &quot;Bar.&quot;)))
    &rArr; '((chapter &quot;Foo&quot;) (para &quot;Bar.&quot;))
</pre></div>

</dd></dl>

</div>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="texinfo-html.html">(texinfo html)</a>, Previous: <a href="texinfo.html">(texinfo)</a>, Up: <a href="Texinfo-Processing.html">Texinfo Processing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
