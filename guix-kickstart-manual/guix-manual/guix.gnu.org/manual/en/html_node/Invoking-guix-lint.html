<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--   Copyright (C) 2012-2022 Ludovic Courtès

Copyright (C) 2013, 2014, 2016 Andreas Enge

Copyright (C) 2013 Nikita Karetnikov

Copyright (C) 2014, 2015, 2016 Alex Kost

Copyright (C) 2015, 2016 Mathieu Lirzin

Copyright (C) 2014 Pierre-Antoine Rault

Copyright (C) 2015 Taylan Ulrich Bayırlı/Kammer

Copyright (C) 2015, 2016, 2017, 2019, 2020, 2021 Leo Famulari

Copyright (C) 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022 Ricardo Wurmus

Copyright (C) 2016 Ben Woodcroft

Copyright (C) 2016, 2017, 2018, 2021 Chris Marusich

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021, 2022 Efraim Flashner

Copyright (C) 2016 John Darrington

Copyright (C) 2016, 2017 Nikita Gillmann

Copyright (C) 2016, 2017, 2018, 2019, 2020 Jan Nieuwenhuizen

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Julien Lepiller

Copyright (C) 2016 Alex ter Weele

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Christopher Baines

Copyright (C) 2017, 2018, 2019 Clément Lassieur

Copyright (C) 2017, 2018, 2020, 2021, 2022 Mathieu Othacehe

Copyright (C) 2017 Federico Beffa

Copyright (C) 2017, 2018 Carlo Zancanaro

Copyright (C) 2017 Thomas Danckaert

Copyright (C) 2017 humanitiesNerd

Copyright (C) 2017, 2021 Christine Lemmer-Webber

Copyright (C) 2017, 2018, 2019, 2020, 2021, 2022 Marius Bakke

Copyright (C) 2017, 2019, 2020, 2022 Hartmut Goebel

Copyright (C) 2017, 2019, 2020, 2021, 2022 Maxim Cournoyer

Copyright (C) 2017–2022 Tobias Geerinckx-Rice

Copyright (C) 2017 George Clemmer

Copyright (C) 2017 Andy Wingo

Copyright (C) 2017, 2018, 2019, 2020 Arun Isaac

Copyright (C) 2017 nee

Copyright (C) 2018 Rutger Helling

Copyright (C) 2018, 2021 Oleg Pykhalov

Copyright (C) 2018 Mike Gerwitz

Copyright (C) 2018 Pierre-Antoine Rouby

Copyright (C) 2018, 2019 Gábor Boskovits

Copyright (C) 2018, 2019, 2020, 2022 Florian Pelz

Copyright (C) 2018 Laura Lazzati

Copyright (C) 2018 Alex Vong

Copyright (C) 2019 Josh Holland

Copyright (C) 2019, 2020 Diego Nicola Barbato

Copyright (C) 2019 Ivan Petkov

Copyright (C) 2019 Jakob L. Kreuze

Copyright (C) 2019 Kyle Andrews

Copyright (C) 2019 Alex Griffin

Copyright (C) 2019, 2020, 2021, 2022 Guillaume Le Vaillant

Copyright (C) 2020 Liliana Marie Prikler

Copyright (C) 2019, 2020, 2021, 2022 Simon Tournier

Copyright (C) 2020 Wiktor Żelazny

Copyright (C) 2020 Damien Cassou

Copyright (C) 2020 Jakub Kądziołka

Copyright (C) 2020 Jack Hill

Copyright (C) 2020 Naga Malleswari

Copyright (C) 2020, 2021 Brice Waegeneire

Copyright (C) 2020 R Veera Kumar

Copyright (C) 2020, 2021 Pierre Langlois

Copyright (C) 2020 pinoaffe

Copyright (C) 2020 André Batista

Copyright (C) 2020, 2021 Alexandru-Sergiu Marton

Copyright (C) 2020 raingloom

Copyright (C) 2020 Daniel Brooks

Copyright (C) 2020 John Soo

Copyright (C) 2020 Jonathan Brielmaier

Copyright (C) 2020 Edgar Vincent

Copyright (C) 2021, 2022 Maxime Devos

Copyright (C) 2021 B. Wilson

Copyright (C) 2021 Xinglu Chen

Copyright (C) 2021 Raghav Gururajan

Copyright (C) 2021 Domagoj Stolfa

Copyright (C) 2021 Hui Lu

Copyright (C) 2021 pukkamustard

Copyright (C) 2021 Alice Brenon

Copyright (C) 2021, 2022 Josselin Poiret

Copyright (C) 2021 muradm

Copyright (C) 2021, 2022 Andrew Tropin

Copyright (C) 2021 Sarah Morgensen

Copyright (C) 2022 Remco van 't Veer

Copyright (C) 2022 Aleksandr Vityazev

Copyright (C) 2022 Philip McGrath

Copyright (C) 2022 Karl Hallsby

Copyright (C) 2022 Justin Veilleux

Copyright (C) 2022 Reily Siegel

Copyright (C) 2022 Simon Streit

Copyright (C) 2022 (

Copyright (C) 2022 John Kehayias


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License".   -->
<!--   Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/   -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Invoking guix lint (GNU Guix Reference Manual)</title>

<meta name="description" content="Invoking guix lint (GNU Guix Reference Manual)" />
<meta name="keywords" content="Invoking guix lint (GNU Guix Reference Manual)" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="Generator" content="makeinfo" />
<link href="index.html" rel="start" title="Top" />
<link href="Concept-Index.html" rel="index" title="Concept Index" />
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents" />
<link href="Utilities.html" rel="up" title="Utilities" />
<link href="Invoking-guix-size.html" rel="next" title="Invoking guix size" />
<link href="Invoking-guix-style.html" rel="prev" title="Invoking guix style" />
<style type="text/css">
&amp;lt;!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
--&amp;gt;
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/gnulib/manual.css" />

<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" type="text/css" href="../../../static/base/css/manual.css" /><link rel="stylesheet" type="text/css" href="../../../static/base/css/code.css" /></head>

<body lang="en"><header class="navbar"><h1><a class="branding" href="https://guix.gnu.org/manual/en/"></a></h1><nav class="navbar-menu"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="all-dropdowns-hidden" /><ul><li class="navbar-menu-item dropdown dropdown-btn"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="visible-dropdown" /><label for="visible-dropdown"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><label for="all-dropdowns-hidden"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><div class="navbar-submenu" id="navbar-submenu"><div class="navbar-submenu-triangle"> </div><ul><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/de/html_node">Deutsch</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/en/html_node">English</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/es/html_node">Español</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/fr/html_node">français</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/pt-br/html_node">Português</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/ru/html_node">русский</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/zh-cn/html_node">中文</a></li><li><a class="navbar-menu-item" href="https://translate.fedoraproject.org/projects/guix/documentation-manual/">⊕</a></li></ul></div></li></ul></nav><a class="navbar-menu-btn" href="https://guix.gnu.org/manual/"></a></header>
<span id="Invoking-guix-lint"></span><div class="header">
<p>
Next: <a href="Invoking-guix-size.html" accesskey="n" rel="next">Invoking guix size</a>, Previous: <a href="Invoking-guix-style.html" accesskey="p" rel="prev">Invoking guix style</a>, Up: <a href="Utilities.html" accesskey="u" rel="up">Utilities</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr />
<span id="Invoking-guix-lint-1"></span><h3 class="section">10.8 Invoking <code>guix lint</code></h3>

<span id="index-guix-lint"></span>
<span id="index-package_002c-checking-for-errors"></span>
<p>The <code>guix lint</code> command is meant to help package developers avoid
common errors and use a consistent style.  It runs a number of checks on
a given set of packages in order to find common mistakes in their
definitions.  Available <em>checkers</em> include (see
<samp>--list-checkers</samp> for a complete list):
</p>
<dl compact="compact">
<dt><code>synopsis</code></dt>
<dt><code>description</code></dt>
<dd><p>Validate certain typographical and stylistic rules about package
descriptions and synopses.
</p>
</dd>
<dt><code>inputs-should-be-native</code></dt>
<dd><p>Identify inputs that should most likely be native inputs.
</p>
</dd>
<dt><code>source</code></dt>
<dt><code>home-page</code></dt>
<dt><code>mirror-url</code></dt>
<dt><code>github-url</code></dt>
<dt><code>source-file-name</code></dt>
<dd><p>Probe <code>home-page</code> and <code>source</code> URLs and report those that are
invalid.  Suggest a <code>mirror://</code> URL when applicable.  If the
<code>source</code> URL redirects to a GitHub URL, recommend usage of the GitHub
URL.  Check that the source file name is meaningful, e.g. is not just a
version number or &ldquo;git-checkout&rdquo;, without a declared <code>file-name</code>
(see <a href="origin-Reference.html">origin Reference</a>).
</p>
</dd>
<dt><code>source-unstable-tarball</code></dt>
<dd><p>Parse the <code>source</code> URL to determine if a tarball from GitHub is
autogenerated or if it is a release tarball.  Unfortunately GitHub&rsquo;s
autogenerated tarballs are sometimes regenerated.
</p>
</dd>
<dt><code>derivation</code></dt>
<dd><p>Check that the derivation of the given packages can be successfully
computed for all the supported systems (see <a href="Derivations.html">Derivations</a>).
</p>
</dd>
<dt><code>profile-collisions</code></dt>
<dd><p>Check whether installing the given packages in a profile would lead to
collisions.  Collisions occur when several packages with the same name
but a different version or a different store file name are propagated.
See <a href="package-Reference.html"><code>propagated-inputs</code></a>, for more information
on propagated inputs.
</p>
</dd>
<dt><code>archival</code></dt>
<dd><span id="index-Software-Heritage_002c-source-code-archive"></span>
<span id="index-archival-of-source-code_002c-Software-Heritage"></span>
<p>Checks whether the package&rsquo;s source code is archived at
<a href="https://www.softwareheritage.org">Software Heritage</a>.
</p>
<p>When the source code that is not archived comes from a version-control system
(VCS)&mdash;e.g., it&rsquo;s obtained with <code>git-fetch</code>, send Software Heritage a
&ldquo;save&rdquo; request so that it eventually archives it.  This ensures that the
source will remain available in the long term, and that Guix can fall back to
Software Heritage should the source code disappear from its original host.
The status of recent &ldquo;save&rdquo; requests can be
<a href="https://archive.softwareheritage.org/save/#requests">viewed on-line</a>.
</p>
<p>When source code is a tarball obtained with <code>url-fetch</code>, simply print a
message when it is not archived.  As of this writing, Software Heritage does
not allow requests to save arbitrary tarballs; we are working on ways to
ensure that non-VCS source code is also archived.
</p>
<p>Software Heritage
<a href="https://archive.softwareheritage.org/api/#rate-limiting">limits the
request rate per IP address</a>.  When the limit is reached, <code>guix lint</code>
prints a message and the <code>archival</code> checker stops doing anything until
that limit has been reset.
</p>
</dd>
<dt><code>cve</code></dt>
<dd><span id="index-security-vulnerabilities"></span>
<span id="index-CVE_002c-Common-Vulnerabilities-and-Exposures"></span>
<p>Report known vulnerabilities found in the Common Vulnerabilities and
Exposures (CVE) databases of the current and past year
<a href="https://nvd.nist.gov/vuln/data-feeds">published by the US
NIST</a>.
</p>
<p>To view information about a particular vulnerability, visit pages such as:
</p>
<ul>
<li> &lsquo;<code>https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-YYYY-ABCD</code>&rsquo;
</li><li> &lsquo;<code>https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-YYYY-ABCD</code>&rsquo;
</li></ul>

<p>where <code>CVE-YYYY-ABCD</code> is the CVE identifier&mdash;e.g.,
<code>CVE-2015-7554</code>.
</p>
<p>Package developers can specify in package recipes the
<a href="https://nvd.nist.gov/products/cpe">Common Platform Enumeration (CPE)</a>
name and version of the package when they differ from the name or version
that Guix uses, as in this example:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="package-Reference.html#index-package">package</a>
  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">name</span> <span class="syntax-string">"grub"</span></span>)</span>
  <span class="syntax-comment">;; …
</span>  <span class="syntax-comment">;; CPE calls this package "grub2".
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">properties</span> <span class="syntax-symbol">'</span><span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-symbol">cpe-name</span> <span class="syntax-symbol">.</span> <span class="syntax-string">"grub2"</span></span>)</span>
                <span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-symbol">cpe-version</span> <span class="syntax-symbol">.</span> <span class="syntax-string">"2.3"</span></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>

<p>Some entries in the CVE database do not specify which version of a
package they apply to, and would thus &ldquo;stick around&rdquo; forever.  Package
developers who found CVE alerts and verified they can be ignored can
declare them as in this example:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="package-Reference.html#index-package">package</a>
  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">name</span> <span class="syntax-string">"t1lib"</span></span>)</span>
  <span class="syntax-comment">;; …
</span>  <span class="syntax-comment">;; These CVEs no longer apply and can be safely ignored.
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">properties</span> <span class="syntax-symbol">`</span><span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-symbol">lint-hidden-cve</span> <span class="syntax-symbol">.</span> <span class="syntax-paren4">(<span class="syntax-symbol"><span class="syntax-string">"CVE-2011-0433"</span>
                                    <span class="syntax-string">"CVE-2011-1553"</span>
                                    <span class="syntax-string">"CVE-2011-1554"</span>
                                    <span class="syntax-string">"CVE-2011-5244"</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>

</dd>
<dt><code>formatting</code></dt>
<dd><p>Warn about obvious source code formatting issues: trailing white space,
use of tabulations, etc.
</p>
</dd>
<dt><code>input-labels</code></dt>
<dd><p>Report old-style input labels that do not match the name of the
corresponding package.  This aims to help migrate from the &ldquo;old input
style&rdquo;.  See <a href="package-Reference.html">package Reference</a>, for more information on package
inputs and input styles.  See <a href="Invoking-guix-style.html">Invoking guix style</a>, on how to migrate
to the new style.
</p></dd>
</dl>

<p>The general syntax is:
</p>
<div class="example">
<pre class="example">guix lint <var>options</var> <var>package</var>&hellip;
</pre></div>

<p>If no package is given on the command line, then all packages are checked.
The <var>options</var> may be zero or more of the following:
</p>
<dl compact="compact">
<dt><code>--list-checkers</code></dt>
<dt><code>-l</code></dt>
<dd><p>List and describe all the available checkers that will be run on packages
and exit.
</p>
</dd>
<dt><code>--checkers</code></dt>
<dt><code>-c</code></dt>
<dd><p>Only enable the checkers specified in a comma-separated list using the
names returned by <samp>--list-checkers</samp>.
</p>
</dd>
<dt><code>--exclude</code></dt>
<dt><code>-x</code></dt>
<dd><p>Only disable the checkers specified in a comma-separated list using the
names returned by <samp>--list-checkers</samp>.
</p>
</dd>
<dt><code>--expression=<var>expr</var></code></dt>
<dt><code>-e <var>expr</var></code></dt>
<dd><p>Consider the package <var>expr</var> evaluates to.
</p>
<p>This is useful to unambiguously designate packages, as in this example:
</p>
<div class="example">
<pre class="example">guix lint -c archival -e '(@ (gnu packages guile) guile-3.0)'
</pre></div>

</dd>
<dt><code>--no-network</code></dt>
<dt><code>-n</code></dt>
<dd><p>Only enable the checkers that do not depend on Internet access.
</p>
</dd>
<dt><code>--load-path=<var>directory</var></code></dt>
<dt><code>-L <var>directory</var></code></dt>
<dd><p>Add <var>directory</var> to the front of the package module search path
(see <a href="Package-Modules.html">Package Modules</a>).
</p>
<p>This allows users to define their own packages and make them visible to
the command-line tools.
</p>
</dd>
</dl>

<hr />
<div class="header">
<p>
Next: <a href="Invoking-guix-size.html" accesskey="n" rel="next">Invoking guix size</a>, Previous: <a href="Invoking-guix-style.html" accesskey="p" rel="prev">Invoking guix style</a>, Up: <a href="Utilities.html" accesskey="u" rel="up">Utilities</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
