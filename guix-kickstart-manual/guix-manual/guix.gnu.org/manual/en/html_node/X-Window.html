<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--   Copyright (C) 2012-2022 Ludovic Courtès

Copyright (C) 2013, 2014, 2016 Andreas Enge

Copyright (C) 2013 Nikita Karetnikov

Copyright (C) 2014, 2015, 2016 Alex Kost

Copyright (C) 2015, 2016 Mathieu Lirzin

Copyright (C) 2014 Pierre-Antoine Rault

Copyright (C) 2015 Taylan Ulrich Bayırlı/Kammer

Copyright (C) 2015, 2016, 2017, 2019, 2020, 2021 Leo Famulari

Copyright (C) 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022 Ricardo Wurmus

Copyright (C) 2016 Ben Woodcroft

Copyright (C) 2016, 2017, 2018, 2021 Chris Marusich

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021, 2022 Efraim Flashner

Copyright (C) 2016 John Darrington

Copyright (C) 2016, 2017 Nikita Gillmann

Copyright (C) 2016, 2017, 2018, 2019, 2020 Jan Nieuwenhuizen

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Julien Lepiller

Copyright (C) 2016 Alex ter Weele

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Christopher Baines

Copyright (C) 2017, 2018, 2019 Clément Lassieur

Copyright (C) 2017, 2018, 2020, 2021, 2022 Mathieu Othacehe

Copyright (C) 2017 Federico Beffa

Copyright (C) 2017, 2018 Carlo Zancanaro

Copyright (C) 2017 Thomas Danckaert

Copyright (C) 2017 humanitiesNerd

Copyright (C) 2017, 2021 Christine Lemmer-Webber

Copyright (C) 2017, 2018, 2019, 2020, 2021, 2022 Marius Bakke

Copyright (C) 2017, 2019, 2020, 2022 Hartmut Goebel

Copyright (C) 2017, 2019, 2020, 2021, 2022 Maxim Cournoyer

Copyright (C) 2017–2022 Tobias Geerinckx-Rice

Copyright (C) 2017 George Clemmer

Copyright (C) 2017 Andy Wingo

Copyright (C) 2017, 2018, 2019, 2020 Arun Isaac

Copyright (C) 2017 nee

Copyright (C) 2018 Rutger Helling

Copyright (C) 2018, 2021 Oleg Pykhalov

Copyright (C) 2018 Mike Gerwitz

Copyright (C) 2018 Pierre-Antoine Rouby

Copyright (C) 2018, 2019 Gábor Boskovits

Copyright (C) 2018, 2019, 2020, 2022 Florian Pelz

Copyright (C) 2018 Laura Lazzati

Copyright (C) 2018 Alex Vong

Copyright (C) 2019 Josh Holland

Copyright (C) 2019, 2020 Diego Nicola Barbato

Copyright (C) 2019 Ivan Petkov

Copyright (C) 2019 Jakob L. Kreuze

Copyright (C) 2019 Kyle Andrews

Copyright (C) 2019 Alex Griffin

Copyright (C) 2019, 2020, 2021, 2022 Guillaume Le Vaillant

Copyright (C) 2020 Liliana Marie Prikler

Copyright (C) 2019, 2020, 2021, 2022 Simon Tournier

Copyright (C) 2020 Wiktor Żelazny

Copyright (C) 2020 Damien Cassou

Copyright (C) 2020 Jakub Kądziołka

Copyright (C) 2020 Jack Hill

Copyright (C) 2020 Naga Malleswari

Copyright (C) 2020, 2021 Brice Waegeneire

Copyright (C) 2020 R Veera Kumar

Copyright (C) 2020, 2021 Pierre Langlois

Copyright (C) 2020 pinoaffe

Copyright (C) 2020 André Batista

Copyright (C) 2020, 2021 Alexandru-Sergiu Marton

Copyright (C) 2020 raingloom

Copyright (C) 2020 Daniel Brooks

Copyright (C) 2020 John Soo

Copyright (C) 2020 Jonathan Brielmaier

Copyright (C) 2020 Edgar Vincent

Copyright (C) 2021, 2022 Maxime Devos

Copyright (C) 2021 B. Wilson

Copyright (C) 2021 Xinglu Chen

Copyright (C) 2021 Raghav Gururajan

Copyright (C) 2021 Domagoj Stolfa

Copyright (C) 2021 Hui Lu

Copyright (C) 2021 pukkamustard

Copyright (C) 2021 Alice Brenon

Copyright (C) 2021, 2022 Josselin Poiret

Copyright (C) 2021 muradm

Copyright (C) 2021, 2022 Andrew Tropin

Copyright (C) 2021 Sarah Morgensen

Copyright (C) 2022 Remco van 't Veer

Copyright (C) 2022 Aleksandr Vityazev

Copyright (C) 2022 Philip McGrath

Copyright (C) 2022 Karl Hallsby

Copyright (C) 2022 Justin Veilleux

Copyright (C) 2022 Reily Siegel

Copyright (C) 2022 Simon Streit

Copyright (C) 2022 (

Copyright (C) 2022 John Kehayias


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License".   -->
<!--   Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/   -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>X Window (GNU Guix Reference Manual)</title>

<meta name="description" content="X Window (GNU Guix Reference Manual)" />
<meta name="keywords" content="X Window (GNU Guix Reference Manual)" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="Generator" content="makeinfo" />
<link href="index.html" rel="start" title="Top" />
<link href="Concept-Index.html" rel="index" title="Concept Index" />
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents" />
<link href="Services.html" rel="up" title="Services" />
<link href="Printing-Services.html" rel="next" title="Printing Services" />
<link href="Unattended-Upgrades.html" rel="prev" title="Unattended Upgrades" />
<style type="text/css">
&amp;lt;!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
--&amp;gt;
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/gnulib/manual.css" />

<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" type="text/css" href="../../../static/base/css/manual.css" /><link rel="stylesheet" type="text/css" href="../../../static/base/css/code.css" /></head>

<body lang="en"><header class="navbar"><h1><a class="branding" href="https://guix.gnu.org/manual/en/"></a></h1><nav class="navbar-menu"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="all-dropdowns-hidden" /><ul><li class="navbar-menu-item dropdown dropdown-btn"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="visible-dropdown" /><label for="visible-dropdown"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><label for="all-dropdowns-hidden"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><div class="navbar-submenu" id="navbar-submenu"><div class="navbar-submenu-triangle"> </div><ul><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/de/html_node">Deutsch</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/en/html_node">English</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/es/html_node">Español</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/fr/html_node">français</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/pt-br/html_node">Português</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/ru/html_node">русский</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/zh-cn/html_node">中文</a></li><li><a class="navbar-menu-item" href="https://translate.fedoraproject.org/projects/guix/documentation-manual/">⊕</a></li></ul></div></li></ul></nav><a class="navbar-menu-btn" href="https://guix.gnu.org/manual/"></a></header>
<span id="X-Window"></span><div class="header">
<p>
Next: <a href="Printing-Services.html" accesskey="n" rel="next">Printing Services</a>, Previous: <a href="Unattended-Upgrades.html" accesskey="p" rel="prev">Unattended Upgrades</a>, Up: <a href="Services.html" accesskey="u" rel="up">Services</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr />
<span id="X-Window-1"></span><h4 class="subsection">12.9.7 X Window</h4>

<span id="index-X11"></span>
<span id="index-X-Window-System"></span>
<span id="index-login-manager"></span>
<p>Support for the X Window graphical display system&mdash;specifically
Xorg&mdash;is provided by the <code>(gnu services xorg)</code> module.  Note that
there is no <code>xorg-service</code> procedure.  Instead, the X server is
started by the <em>login manager</em>, by default the GNOME Display Manager (GDM).
</p>
<span id="index-GDM"></span>
<span id="index-GNOME_002c-login-manager"></span>
<span id="gdm"></span><p>GDM of course allows users to log in into window managers and desktop
environments other than GNOME; for those using GNOME, GDM is required for
features such as automatic screen locking.
</p>
<span id="index-window-manager"></span>
<p>To use X11, you must install at least one <em>window manager</em>&mdash;for
example the <code>windowmaker</code> or <code>openbox</code> packages&mdash;preferably
by adding it to the <code>packages</code> field of your operating system
definition (see <a href="operating_002dsystem-Reference.html">system-wide packages</a>).
</p>
<span id="wayland_002dgdm"></span><p>GDM also supports Wayland: it can itself use Wayland instead of X11 for
its user interface, and it can also start Wayland sessions.  The former is
required for the latter, to enable, set <code>wayland?</code> to <code>#t</code> in
<code>gdm-configuration</code>.
</p>
<dl>
<dt id="index-gdm_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">gdm-service-type </span></dt>
<dd><p>This is the type for the <a href="https://wiki.gnome.org/Projects/GDM/">GNOME
Desktop Manager</a> (GDM), a program that manages graphical display servers and
handles graphical user logins.  Its value must be a <code>gdm-configuration</code>
(see below).
</p>
<span id="index-session-types"></span>
<p>GDM looks for <em>session types</em> described by the <samp>.desktop</samp> files in
<samp>/run/current-system/profile/share/xsessions</samp> (for X11 sessions) and
<samp>/run/current-system/profile/share/wayland-sessions</samp> (for Wayland
sessions) and allows users to choose a session from the log-in screen.
Packages such as <code>gnome</code>, <code>xfce</code>, <code>i3</code> and <code>sway</code> provide
<samp>.desktop</samp> files; adding them to the system-wide set of packages
automatically makes them available at the log-in screen.
</p>
<p>In addition, <samp>~/.xsession</samp> files are honored.  When available,
<samp>~/.xsession</samp> must be an executable that starts a window manager
and/or other X clients.
</p></dd></dl>

<dl>
<dt id="index-gdm_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">gdm-configuration </span></dt>
<dd><dl compact="compact">
<dt><code>auto-login?</code> (default: <code>#f</code>)</dt>
<dt><code>default-user</code> (default: <code>#f</code>)</dt>
<dd><p>When <code>auto-login?</code> is false, GDM presents a log-in screen.
</p>
<p>When <code>auto-login?</code> is true, GDM logs in directly as
<code>default-user</code>.
</p>
</dd>
<dt><code>auto-suspend?</code> (default <code>#t</code>)</dt>
<dd><p>When true, GDM will automatically suspend to RAM when nobody is
physically connected.  When a machine is used via remote desktop or SSH,
this should be set to false to avoid GDM interrupting remote sessions or
rendering the machine unavailable.
</p>
</dd>
<dt><code>debug?</code> (default: <code>#f</code>)</dt>
<dd><p>When true, GDM writes debug messages to its log.
</p>
</dd>
<dt><code>gnome-shell-assets</code> (default: ...)</dt>
<dd><p>List of GNOME Shell assets needed by GDM: icon theme, fonts, etc.
</p>
</dd>
<dt><code>xorg-configuration</code> (default: <code>(xorg-configuration)</code>)</dt>
<dd><p>Configuration of the Xorg graphical server.
</p>
</dd>
<dt><code>x-session</code> (default: <code>(xinitrc)</code>)</dt>
<dd><p>Script to run before starting a X session.
</p>
</dd>
<dt><code>xdmcp?</code> (default: <code>#f</code>)</dt>
<dd><p>When true, enable the X Display Manager Control Protocol (XDMCP).  This
should only be enabled in trusted environments, as the protocol is not
secure.  When enabled, GDM listens for XDMCP queries on the UDP port
177.
</p>
</dd>
<dt><code>dbus-daemon</code> (default: <code>dbus-daemon-wrapper</code>)</dt>
<dd><p>File name of the <code>dbus-daemon</code> executable.
</p>
</dd>
<dt><code>gdm</code> (default: <code>gdm</code>)</dt>
<dd><p>The GDM package to use.
</p>
</dd>
<dt><code>wayland?</code> (default: <code>#f</code>)</dt>
<dd><p>When true, enables Wayland in GDM, necessary to use Wayland sessions.
</p>
</dd>
<dt><code>wayland-session</code> (default: <code>gdm-wayland-session-wrapper</code>)</dt>
<dd><p>The Wayland session wrapper to use, needed to setup the
environment.
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-slim_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">slim-service-type </span></dt>
<dd><p>This is the type for the SLiM graphical login manager for X11.
</p>
<p>Like GDM, SLiM looks for session types described by <samp>.desktop</samp> files and
allows users to choose a session from the log-in screen using <kbd>F1</kbd>.  It
also honors <samp>~/.xsession</samp> files.
</p>
<p>Unlike GDM, SLiM does not spawn the user session on a different VT after
logging in, which means that you can only start one graphical session.  If you
want to be able to run multiple graphical sessions at the same time you have
to add multiple SLiM services to your system services.  The following example
shows how to replace the default GDM service with two SLiM services on tty7
and tty8.
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Using-Guile-Modules.html#index-use_002dmodules">use-modules</a> <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">gnu</span> <span class="syntax-symbol">services</span></span>)</span>
             <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">gnu</span> <span class="syntax-symbol">services</span> <span class="syntax-symbol">desktop</span></span>)</span>
             <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">gnu</span> <span class="syntax-symbol">services</span> <span class="syntax-symbol">xorg</span></span>)</span></span>)</span>

<span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="operating_002dsystem-Reference.html#index-operating_002dsystem-1">operating-system</a>
  <span class="syntax-comment">;; ...
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">services</span> <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-cons_002a">cons*</a> <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="X-Window.html#index-slim_002dservice_002dtype">slim-service-type</a> <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-slim_002dconfiguration">slim-configuration</a>
                                               <span class="syntax-paren5">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/GOOPS-Object-Miscellany.html#index-display-3">display</a> <span class="syntax-string">":0"</span></span>)</span>
                                               <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">vt</span> <span class="syntax-string">"vt7"</span></span>)</span></span>)</span></span>)</span>
                   <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="X-Window.html#index-slim_002dservice_002dtype">slim-service-type</a> <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-slim_002dconfiguration">slim-configuration</a>
                                               <span class="syntax-paren5">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/GOOPS-Object-Miscellany.html#index-display-3">display</a> <span class="syntax-string">":1"</span></span>)</span>
                                               <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">vt</span> <span class="syntax-string">"vt8"</span></span>)</span></span>)</span></span>)</span>
                   <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-modify_002dservices-1">modify-services</a> <a class="syntax-symbol" href="Desktop-Services.html#index-_0025desktop_002dservices">%desktop-services</a>
                     <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Modification.html#index-delete">delete</a> <a class="syntax-symbol" href="X-Window.html#index-gdm_002dservice_002dtype">gdm-service-type</a></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>

</dd></dl>

<dl>
<dt id="index-slim_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">slim-configuration </span></dt>
<dd><p>Data type representing the configuration of <code>slim-service-type</code>.
</p>
<dl compact="compact">
<dt><code>allow-empty-passwords?</code> (default: <code>#t</code>)</dt>
<dd><p>Whether to allow logins with empty passwords.
</p>
</dd>
<dt><code>gnupg?</code> (default: <code>#f</code>)</dt>
<dd><p>If enabled, <code>pam-gnupg</code> will attempt to automatically unlock the
user&rsquo;s GPG keys with the login password via <code>gpg-agent</code>.  The
keygrips of all keys to be unlocked should be written to
<samp>~/.pam-gnupg</samp>, and can be queried with <code>gpg -K
--with-keygrip</code>.  Presetting passphrases must be enabled by adding
<code>allow-preset-passphrase</code> in <samp>~/.gnupg/gpg-agent.conf</samp>.
</p>
</dd>
<dt><code>auto-login?</code> (default: <code>#f</code>)</dt>
<dt><code>default-user</code> (default: <code>""</code>)</dt>
<dd><p>When <code>auto-login?</code> is false, SLiM presents a log-in screen.
</p>
<p>When <code>auto-login?</code> is true, SLiM logs in directly as
<code>default-user</code>.
</p>
</dd>
<dt><code>theme</code> (default: <code>%default-slim-theme</code>)</dt>
<dt><code>theme-name</code> (default: <code>%default-slim-theme-name</code>)</dt>
<dd><p>The graphical theme to use and its name.
</p>
</dd>
<dt><code>auto-login-session</code> (default: <code>#f</code>)</dt>
<dd><p>If true, this must be the name of the executable to start as the default
session&mdash;e.g., <code>(file-append windowmaker "/bin/windowmaker")</code>.
</p>
<p>If false, a session described by one of the available <samp>.desktop</samp>
files in <code>/run/current-system/profile</code> and <code>~/.guix-profile</code>
will be used.
</p>
<blockquote>
<p><b>Note:</b> You must install at least one window manager in the system profile or in
your user profile.  Failing to do that, if <code>auto-login-session</code> is
false, you will be unable to log in.
</p></blockquote>

</dd>
<dt><code>xorg-configuration</code> (default <code>(xorg-configuration)</code>)</dt>
<dd><p>Configuration of the Xorg graphical server.
</p>
</dd>
<dt><code>display</code> (default <code>":0"</code>)</dt>
<dd><p>The display on which to start the Xorg graphical server.
</p>
</dd>
<dt><code>vt</code> (default <code>"vt7"</code>)</dt>
<dd><p>The VT on which to start the Xorg graphical server.
</p>
</dd>
<dt><code>xauth</code> (default: <code>xauth</code>)</dt>
<dd><p>The XAuth package to use.
</p>
</dd>
<dt><code>shepherd</code> (default: <code>shepherd</code>)</dt>
<dd><p>The Shepherd package used when invoking <code>halt</code> and
<code>reboot</code>.
</p>
</dd>
<dt><code>sessreg</code> (default: <code>sessreg</code>)</dt>
<dd><p>The sessreg package used in order to register the session.
</p>
</dd>
<dt><code>slim</code> (default: <code>slim</code>)</dt>
<dd><p>The SLiM package to use.
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-_0025default_002dtheme" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">%default-theme </span></dt>
<dt id="index-_0025default_002dtheme_002dname" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">%default-theme-name </span></dt>
<dd><p>The default SLiM theme and its name.
</p></dd></dl>


<span id="index-login-manager-1"></span>
<span id="index-X11-login"></span>
<dl>
<dt id="index-sddm_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">sddm-service-type </span></dt>
<dd><p>This is the type of the service to run the
<a href="https://github.com/sddm/sddm">SDDM display manager</a>.  Its value
must be a <code>sddm-configuration</code> record (see below).
</p>
<p>Here&rsquo;s an example use:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="X-Window.html#index-sddm_002dservice_002dtype">sddm-service-type</a>
         <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-sddm_002dconfiguration">sddm-configuration</a>
           <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">auto-login-user</span> <span class="syntax-string">"alice"</span></span>)</span>
           <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">auto-login-session</span> <span class="syntax-string">"xfce.desktop"</span></span>)</span></span>)</span></span>)</span>
</pre></div>
</dd></dl>

<dl>
<dt id="index-sddm_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">sddm-configuration </span></dt>
<dd><p>This data type represents the configuration of the SDDM login manager.
The available fields are:
</p>
<dl compact="compact">
<dt><code>sddm</code> (default: <code>sddm</code>)</dt>
<dd><p>The SDDM package to use.
</p>
</dd>
<dt><code>display-server</code> (default: "x11")</dt>
<dd><p>Select display server to use for the greeter.  Valid values are
&lsquo;<samp>"x11"</samp>&rsquo; or &lsquo;<samp>"wayland"</samp>&rsquo;.
</p>
</dd>
<dt><code>numlock</code> (default: "on")</dt>
<dd><p>Valid values are &lsquo;<samp>"on"</samp>&rsquo;, &lsquo;<samp>"off"</samp>&rsquo; or &lsquo;<samp>"none"</samp>&rsquo;.
</p>
</dd>
<dt><code>halt-command</code> (default <code>#~(string-append #$shepherd "/sbin/halt")</code>)</dt>
<dd><p>Command to run when halting.
</p>
</dd>
<dt><code>reboot-command</code> (default <code>#~(string-append #$shepherd "/sbin/reboot")</code>)</dt>
<dd><p>Command to run when rebooting.
</p>
</dd>
<dt><code>theme</code> (default "maldives")</dt>
<dd><p>Theme to use.  Default themes provided by SDDM are &lsquo;<samp>"elarun"</samp>&rsquo;,
&lsquo;<samp>"maldives"</samp>&rsquo; or &lsquo;<samp>"maya"</samp>&rsquo;.
</p>
</dd>
<dt><code>themes-directory</code> (default "/run/current-system/profile/share/sddm/themes")</dt>
<dd><p>Directory to look for themes.
</p>
</dd>
<dt><code>faces-directory</code> (default "/run/current-system/profile/share/sddm/faces")</dt>
<dd><p>Directory to look for faces.
</p>
</dd>
<dt><code>default-path</code> (default "/run/current-system/profile/bin")</dt>
<dd><p>Default PATH to use.
</p>
</dd>
<dt><code>minimum-uid</code> (default: 1000)</dt>
<dd><p>Minimum UID displayed in SDDM and allowed for log-in.
</p>
</dd>
<dt><code>maximum-uid</code> (default: 2000)</dt>
<dd><p>Maximum UID to display in SDDM.
</p>
</dd>
<dt><code>remember-last-user?</code> (default #t)</dt>
<dd><p>Remember last user.
</p>
</dd>
<dt><code>remember-last-session?</code> (default #t)</dt>
<dd><p>Remember last session.
</p>
</dd>
<dt><code>hide-users</code> (default "")</dt>
<dd><p>Usernames to hide from SDDM greeter.
</p>
</dd>
<dt><code>hide-shells</code> (default <code>#~(string-append #$shadow "/sbin/nologin")</code>)</dt>
<dd><p>Users with shells listed will be hidden from the SDDM greeter.
</p>
</dd>
<dt><code>session-command</code> (default <code>#~(string-append #$sddm "/share/sddm/scripts/wayland-session")</code>)</dt>
<dd><p>Script to run before starting a wayland session.
</p>
</dd>
<dt><code>sessions-directory</code> (default "/run/current-system/profile/share/wayland-sessions")</dt>
<dd><p>Directory to look for desktop files starting wayland sessions.
</p>
</dd>
<dt><code>xorg-configuration</code> (default <code>(xorg-configuration)</code>)</dt>
<dd><p>Configuration of the Xorg graphical server.
</p>
</dd>
<dt><code>xauth-path</code> (default <code>#~(string-append #$xauth "/bin/xauth")</code>)</dt>
<dd><p>Path to xauth.
</p>
</dd>
<dt><code>xephyr-path</code> (default <code>#~(string-append #$xorg-server "/bin/Xephyr")</code>)</dt>
<dd><p>Path to Xephyr.
</p>
</dd>
<dt><code>xdisplay-start</code> (default <code>#~(string-append #$sddm "/share/sddm/scripts/Xsetup")</code>)</dt>
<dd><p>Script to run after starting xorg-server.
</p>
</dd>
<dt><code>xdisplay-stop</code> (default <code>#~(string-append #$sddm "/share/sddm/scripts/Xstop")</code>)</dt>
<dd><p>Script to run before stopping xorg-server.
</p>
</dd>
<dt><code>xsession-command</code> (default: <code>xinitrc</code>)</dt>
<dd><p>Script to run before starting a X session.
</p>
</dd>
<dt><code>xsessions-directory</code> (default: "/run/current-system/profile/share/xsessions")</dt>
<dd><p>Directory to look for desktop files starting X sessions.
</p>
</dd>
<dt><code>minimum-vt</code> (default: 7)</dt>
<dd><p>Minimum VT to use.
</p>
</dd>
<dt><code>auto-login-user</code> (default "")</dt>
<dd><p>User account that will be automatically logged in.
Setting this to the empty string disables auto-login.
</p>
</dd>
<dt><code>auto-login-session</code> (default "")</dt>
<dd><p>The <samp>.desktop</samp> file name to use as the auto-login session, or the empty string.
</p>
</dd>
<dt><code>relogin?</code> (default #f)</dt>
<dd><p>Relogin after logout.
</p>
</dd>
</dl>
</dd></dl>

<span id="index-lightdm_002c-graphical-login-manager"></span>
<span id="index-display-manager_002c-lightdm"></span>
<span id="lightdm"></span><dl>
<dt id="index-lightdm_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">lightdm-service-type </span></dt>
<dd><p>This is the type of the service to run the
<a href="https://github.com/canonical/lightdm">LightDM display manager</a>.  Its
value must be a <code>lightdm-configuration</code> record, which is documented
below.  Among its distinguishing features are TigerVNC integration for
easily remoting your desktop as well as support for the XDMCP protocol,
which can be used by remote clients to start a session from the login
manager.
</p>
<p>In its most basic form, it can be used simply as:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="X-Window.html#index-lightdm_002dservice_002dtype">lightdm-service-type</a></span>)</span>
</pre></div>

<p>A more elaborate example making use of the VNC capabilities and enabling
more features and verbose logs could look like:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="X-Window.html#index-lightdm_002dservice_002dtype">lightdm-service-type</a>
         <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-lightdm_002dconfiguration">lightdm-configuration</a>
          <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">allow-empty-passwords?</span> <span class="syntax-symbol">#t</span></span>)</span>
          <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">xdmcp?</span> <span class="syntax-symbol">#t</span></span>)</span>
          <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">vnc-server?</span> <span class="syntax-symbol">#t</span></span>)</span>
          <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">vnc-server-command</span>
           <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="G_002dExpressions.html#index-file_002dappend">file-append</a> <span class="syntax-symbol">tigervnc-server</span> <span class="syntax-string">"/bin/Xvnc"</span>
                        <span class="syntax-string">"  -SecurityTypes None"</span></span>)</span></span>)</span>
          <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">seats</span>
           <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a> <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-lightdm_002dseat_002dconfiguration">lightdm-seat-configuration</a>
                  <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">name</span> <span class="syntax-string">"*"</span></span>)</span>
                  <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">user-session</span> <span class="syntax-string">"ratpoison"</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>
</dd></dl>

<dl>
<dt id="index-lightdm_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">lightdm-configuration </span></dt>
<dd><p>Available <code>lightdm-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>lightdm</code> (default: <code>lightdm</code>) (type: file-like)</dt>
<dd><p>The lightdm package to use.
</p>
</dd>
<dt><code>allow-empty-passwords?</code> (default: <code>#f</code>) (type: boolean)</dt>
<dd><p>Whether users not having a password set can login.
</p>
</dd>
<dt><code>debug?</code> (default: <code>#f</code>) (type: boolean)</dt>
<dd><p>Enable verbose output.
</p>
</dd>
<dt><code>xorg-configuration</code> (type: xorg-configuration)</dt>
<dd><p>The default Xorg server configuration to use to generate the Xorg server
start script.  It can be refined per seat via the <code>xserver-command</code>
of the <code>&lt;lightdm-seat-configuration&gt;</code> record, if desired.
</p>
</dd>
<dt><code>greeters</code> (type: list-of-greeter-configurations)</dt>
<dd><p>The LightDM greeter configurations specifying the greeters to use.
</p>
</dd>
<dt><code>seats</code> (type: list-of-seat-configurations)</dt>
<dd><p>The seat configurations to use.  A LightDM seat is akin to a user.
</p>
</dd>
<dt><code>xdmcp?</code> (default: <code>#f</code>) (type: boolean)</dt>
<dd><p>Whether a XDMCP server should listen on port UDP 177.
</p>
</dd>
<dt><code>xdmcp-listen-address</code> (type: maybe-string)</dt>
<dd><p>The host or IP address the XDMCP server listens for incoming
connections.  When unspecified, listen on for any hosts/IP addresses.
</p>
</dd>
<dt><code>vnc-server?</code> (default: <code>#f</code>) (type: boolean)</dt>
<dd><p>Whether a VNC server is started.
</p>
</dd>
<dt><code>vnc-server-command</code> (type: file-like)</dt>
<dd><p>The Xvnc command to use for the VNC server, it&rsquo;s possible to provide
extra options not otherwise exposed along the command, for example to
disable security:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><span class="syntax-symbol">vnc-server-command</span> <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="G_002dExpressions.html#index-file_002dappend">file-append</a> <span class="syntax-symbol">tigervnc-server</span> <span class="syntax-string">"/bin/Xvnc"</span>
                                 <span class="syntax-string">" -SecurityTypes None"</span> </span>)</span></span>)</span>
</pre></div>

<p>Or to set a PasswordFile for the classic (unsecure) VncAuth
mecanism:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><span class="syntax-symbol">vnc-server-command</span> <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="G_002dExpressions.html#index-file_002dappend">file-append</a> <span class="syntax-symbol">tigervnc-server</span> <span class="syntax-string">"/bin/Xvnc"</span>
                                 <span class="syntax-string">" -PasswordFile /var/lib/lightdm/.vnc/passwd"</span></span>)</span></span>)</span>
</pre></div>

<p>The password file should be manually created using the
<code>vncpasswd</code> command.  Note that LightDM will create new sessions
for VNC users, which means they need to authenticate in the same way as
local users would.
</p>
</dd>
<dt><code>vnc-server-listen-address</code> (type: maybe-string)</dt>
<dd><p>The host or IP address the VNC server listens for incoming connections.
When unspecified, listen for any hosts/IP addresses.
</p>
</dd>
<dt><code>vnc-server-port</code> (default: <code>5900</code>) (type: number)</dt>
<dd><p>The TCP port the VNC server should listen to.
</p>
</dd>
<dt><code>extra-config</code> (default: <code>()</code>) (type: list-of-strings)</dt>
<dd><p>Extra configuration values to append to the LightDM configuration file.
</p>
</dd>
</dl>
</dd></dl>



<dl>
<dt id="index-lightdm_002dgtk_002dgreeter_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">lightdm-gtk-greeter-configuration </span></dt>
<dd><p>Available <code>lightdm-gtk-greeter-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>lightdm-gtk-greeter</code> (default: <code>lightdm-gtk-greeter</code>) (type: file-like)</dt>
<dd><p>The lightdm-gtk-greeter package to use.
</p>
</dd>
<dt><code>assets</code> &nbsp;</dt>
<dd><p>(default: <code>(adwaita-icon-theme gnome-themes-extrahicolor-icon-theme)</code>) &nbsp;(type: list-of-file-likes)
The list of packages complementing the greeter, such as package
providing icon themes.
</p>
</dd>
<dt><code>theme-name</code> (default: <code>"Adwaita"</code>) (type: string)</dt>
<dd><p>The name of the theme to use.
</p>
</dd>
<dt><code>icon-theme-name</code> (default: <code>"Adwaita"</code>) (type: string)</dt>
<dd><p>The name of the icon theme to use.
</p>
</dd>
<dt><code>cursor-theme-name</code> (default: <code>"Adwaita"</code>) (type: string)</dt>
<dd><p>The name of the cursor theme to use.
</p>
</dd>
<dt><code>cursor-theme-size</code> (default: <code>16</code>) (type: number)</dt>
<dd><p>The size to use for the cursor theme.
</p>
</dd>
<dt><code>allow-debugging?</code> (type: maybe-boolean)</dt>
<dd><p>Set to #t to enable debug log level.
</p>
</dd>
<dt><code>background</code> (type: file-like)</dt>
<dd><p>The background image to use.
</p>
</dd>
<dt><code>at-spi-enabled?</code> (default: <code>#f</code>) (type: boolean)</dt>
<dd><p>Enable accessibility support through the Assistive Technology Service
Provider Interface (AT-SPI).
</p>
</dd>
<dt><code>a11y-states</code> &nbsp;</dt>
<dd><p>(default: <code>(contrast font keyboard reader)</code>) (type: list-of-a11y-states)
The accessibility features to enable, given as list of symbols.
</p>
</dd>
<dt><code>reader</code> (type: maybe-file-like)</dt>
<dd><p>The command to use to launch a screen reader.
</p>
</dd>
<dt><code>extra-config</code> (default: <code>()</code>) (type: list-of-strings)</dt>
<dd><p>Extra configuration values to append to the LightDM GTK Greeter
configuration file.
</p>
</dd>
</dl>
</dd></dl>


<dl>
<dt id="index-lightdm_002dseat_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">lightdm-seat-configuration </span></dt>
<dd><p>Available <code>lightdm-seat-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>name</code> (type: seat-name)</dt>
<dd><p>The name of the seat.  An asterisk (*) can be used in the name to apply
the seat configuration to all the seat names it matches.
</p>
</dd>
<dt><code>user-session</code> (type: maybe-string)</dt>
<dd><p>The session to use by default.  The session name must be provided as a
lowercase string, such as <code>"gnome"</code>, <code>"ratpoison"</code>, etc.
</p>
</dd>
<dt><code>type</code> (default: <code>local</code>) (type: seat-type)</dt>
<dd><p>The type of the seat, either the <code>local</code> or <code>xremote</code> symbol.
</p>
</dd>
<dt><code>autologin-user</code> (type: maybe-string)</dt>
<dd><p>The username to automatically log in with by default.
</p>
</dd>
<dt><code>greeter-session</code> &nbsp;</dt>
<dd><p>(default: <code>lightdm-gtk-greeter</code>) (type: greeter-session)
The greeter session to use, specified as a symbol.  Currently, only
<code>lightdm-gtk-greeter</code> is supported.
</p>
</dd>
<dt><code>xserver-command</code> (type: maybe-file-like)</dt>
<dd><p>The Xorg server command to run.
</p>
</dd>
<dt><code>session-wrapper</code> (type: file-like)</dt>
<dd><p>The xinitrc session wrapper to use.
</p>
</dd>
<dt><code>extra-config</code> (default: <code>()</code>) (type: list-of-strings)</dt>
<dd><p>Extra configuration values to append to the seat configuration section.
</p>
</dd>
</dl>
</dd></dl>


<span id="index-Xorg_002c-configuration"></span>
<dl>
<dt id="index-xorg_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">xorg-configuration </span></dt>
<dd><p>This data type represents the configuration of the Xorg graphical
display server.  Note that there is no Xorg service; instead, the X
server is started by a &ldquo;display manager&rdquo; such as GDM, SDDM, LightDM or
SLiM.  Thus, the configuration of these display managers aggregates an
<code>xorg-configuration</code> record.
</p>
<dl compact="compact">
<dt><code>modules</code> (default: <code>%default-xorg-modules</code>)</dt>
<dd><p>This is a list of <em>module packages</em> loaded by the Xorg
server&mdash;e.g., <code>xf86-video-vesa</code>, <code>xf86-input-keyboard</code>, and so on.
</p>
</dd>
<dt><code>fonts</code> (default: <code>%default-xorg-fonts</code>)</dt>
<dd><p>This is a list of font directories to add to the server&rsquo;s <em>font path</em>.
</p>
</dd>
<dt><code>drivers</code> (default: <code>'()</code>)</dt>
<dd><p>This must be either the empty list, in which case Xorg chooses a graphics
driver automatically, or a list of driver names that will be tried in this
order&mdash;e.g., <code>("modesetting" "vesa")</code>.
</p>
</dd>
<dt><code>resolutions</code> (default: <code>'()</code>)</dt>
<dd><p>When <code>resolutions</code> is the empty list, Xorg chooses an appropriate screen
resolution.  Otherwise, it must be a list of resolutions&mdash;e.g., <code>((1024
768) (640 480))</code>.
</p>
<span id="index-keyboard-layout_002c-for-Xorg"></span>
<span id="index-keymap_002c-for-Xorg"></span>
</dd>
<dt><code>keyboard-layout</code> (default: <code>#f</code>)</dt>
<dd><p>If this is <code>#f</code>, Xorg uses the default keyboard layout&mdash;usually US
English (&ldquo;qwerty&rdquo;) for a 105-key PC keyboard.
</p>
<p>Otherwise this must be a <code>keyboard-layout</code> object specifying the keyboard
layout in use when Xorg is running.  See <a href="Keyboard-Layout.html">Keyboard Layout</a>, for more
information on how to specify the keyboard layout.
</p>
</dd>
<dt><code>extra-config</code> (default: <code>'()</code>)</dt>
<dd><p>This is a list of strings or objects appended to the configuration file.  It
is used to pass extra text to be added verbatim to the configuration file.
</p>
</dd>
<dt><code>server</code> (default: <code>xorg-server</code>)</dt>
<dd><p>This is the package providing the Xorg server.
</p>
</dd>
<dt><code>server-arguments</code> (default: <code>%default-xorg-server-arguments</code>)</dt>
<dd><p>This is the list of command-line arguments to pass to the X server.  The
default is <code>-nolisten tcp</code>.
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-set_002dxorg_002dconfiguration-1" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">set-xorg-configuration <var>config</var>   [<var>login-manager-service-type</var>]</span></dt>
<dd><p>Tell the log-in manager (of type <var>login-manager-service-type</var>) to use
<var>config</var>, an <code>&lt;xorg-configuration&gt;</code> record.
</p>
<p>Since the Xorg configuration is embedded in the log-in manager&rsquo;s
configuration&mdash;e.g., <code>gdm-configuration</code>&mdash;this procedure provides a
shorthand to set the Xorg configuration.
</p></dd></dl>

<dl>
<dt id="index-xorg_002dstart_002dcommand" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">xorg-start-command [<var>config</var>]</span></dt>
<dd><p>Return a <code>startx</code> script in which the modules, fonts, etc. specified
in <var>config</var>, are available.  The result should be used in place of
<code>startx</code>.
</p>
<p>Usually the X server is started by a login manager.
</p></dd></dl>


<dl>
<dt id="index-screen_002dlocker_002dservice" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">screen-locker-service <var>package</var> [<var>program</var>]</span></dt>
<dd><p>Add <var>package</var>, a package for a screen locker or screen saver whose
command is <var>program</var>, to the set of setuid programs and add a PAM entry
for it.  For example:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="X-Window.html#index-screen_002dlocker_002dservice">screen-locker-service</a> <span class="syntax-symbol">xlockmore</span> <span class="syntax-string">"xlock"</span></span>)</span>
</pre></div>

<p>makes the good ol&rsquo; XlockMore usable.
</p></dd></dl>


<hr />
<div class="header">
<p>
Next: <a href="Printing-Services.html" accesskey="n" rel="next">Printing Services</a>, Previous: <a href="Unattended-Upgrades.html" accesskey="p" rel="prev">Unattended Upgrades</a>, Up: <a href="Services.html" accesskey="u" rel="up">Services</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
