<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--   Copyright (C) 2012-2022 Ludovic Courtès

Copyright (C) 2013, 2014, 2016 Andreas Enge

Copyright (C) 2013 Nikita Karetnikov

Copyright (C) 2014, 2015, 2016 Alex Kost

Copyright (C) 2015, 2016 Mathieu Lirzin

Copyright (C) 2014 Pierre-Antoine Rault

Copyright (C) 2015 Taylan Ulrich Bayırlı/Kammer

Copyright (C) 2015, 2016, 2017, 2019, 2020, 2021 Leo Famulari

Copyright (C) 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022 Ricardo Wurmus

Copyright (C) 2016 Ben Woodcroft

Copyright (C) 2016, 2017, 2018, 2021 Chris Marusich

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021, 2022 Efraim Flashner

Copyright (C) 2016 John Darrington

Copyright (C) 2016, 2017 Nikita Gillmann

Copyright (C) 2016, 2017, 2018, 2019, 2020 Jan Nieuwenhuizen

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Julien Lepiller

Copyright (C) 2016 Alex ter Weele

Copyright (C) 2016, 2017, 2018, 2019, 2020, 2021 Christopher Baines

Copyright (C) 2017, 2018, 2019 Clément Lassieur

Copyright (C) 2017, 2018, 2020, 2021, 2022 Mathieu Othacehe

Copyright (C) 2017 Federico Beffa

Copyright (C) 2017, 2018 Carlo Zancanaro

Copyright (C) 2017 Thomas Danckaert

Copyright (C) 2017 humanitiesNerd

Copyright (C) 2017, 2021 Christine Lemmer-Webber

Copyright (C) 2017, 2018, 2019, 2020, 2021, 2022 Marius Bakke

Copyright (C) 2017, 2019, 2020, 2022 Hartmut Goebel

Copyright (C) 2017, 2019, 2020, 2021, 2022 Maxim Cournoyer

Copyright (C) 2017–2022 Tobias Geerinckx-Rice

Copyright (C) 2017 George Clemmer

Copyright (C) 2017 Andy Wingo

Copyright (C) 2017, 2018, 2019, 2020 Arun Isaac

Copyright (C) 2017 nee

Copyright (C) 2018 Rutger Helling

Copyright (C) 2018, 2021 Oleg Pykhalov

Copyright (C) 2018 Mike Gerwitz

Copyright (C) 2018 Pierre-Antoine Rouby

Copyright (C) 2018, 2019 Gábor Boskovits

Copyright (C) 2018, 2019, 2020, 2022 Florian Pelz

Copyright (C) 2018 Laura Lazzati

Copyright (C) 2018 Alex Vong

Copyright (C) 2019 Josh Holland

Copyright (C) 2019, 2020 Diego Nicola Barbato

Copyright (C) 2019 Ivan Petkov

Copyright (C) 2019 Jakob L. Kreuze

Copyright (C) 2019 Kyle Andrews

Copyright (C) 2019 Alex Griffin

Copyright (C) 2019, 2020, 2021, 2022 Guillaume Le Vaillant

Copyright (C) 2020 Liliana Marie Prikler

Copyright (C) 2019, 2020, 2021, 2022 Simon Tournier

Copyright (C) 2020 Wiktor Żelazny

Copyright (C) 2020 Damien Cassou

Copyright (C) 2020 Jakub Kądziołka

Copyright (C) 2020 Jack Hill

Copyright (C) 2020 Naga Malleswari

Copyright (C) 2020, 2021 Brice Waegeneire

Copyright (C) 2020 R Veera Kumar

Copyright (C) 2020, 2021 Pierre Langlois

Copyright (C) 2020 pinoaffe

Copyright (C) 2020 André Batista

Copyright (C) 2020, 2021 Alexandru-Sergiu Marton

Copyright (C) 2020 raingloom

Copyright (C) 2020 Daniel Brooks

Copyright (C) 2020 John Soo

Copyright (C) 2020 Jonathan Brielmaier

Copyright (C) 2020 Edgar Vincent

Copyright (C) 2021, 2022 Maxime Devos

Copyright (C) 2021 B. Wilson

Copyright (C) 2021 Xinglu Chen

Copyright (C) 2021 Raghav Gururajan

Copyright (C) 2021 Domagoj Stolfa

Copyright (C) 2021 Hui Lu

Copyright (C) 2021 pukkamustard

Copyright (C) 2021 Alice Brenon

Copyright (C) 2021, 2022 Josselin Poiret

Copyright (C) 2021 muradm

Copyright (C) 2021, 2022 Andrew Tropin

Copyright (C) 2021 Sarah Morgensen

Copyright (C) 2022 Remco van 't Veer

Copyright (C) 2022 Aleksandr Vityazev

Copyright (C) 2022 Philip McGrath

Copyright (C) 2022 Karl Hallsby

Copyright (C) 2022 Justin Veilleux

Copyright (C) 2022 Reily Siegel

Copyright (C) 2022 Simon Streit

Copyright (C) 2022 (

Copyright (C) 2022 John Kehayias


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License".   -->
<!--   Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/   -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Miscellaneous Services (GNU Guix Reference Manual)</title>

<meta name="description" content="Miscellaneous Services (GNU Guix Reference Manual)" />
<meta name="keywords" content="Miscellaneous Services (GNU Guix Reference Manual)" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="Generator" content="makeinfo" />
<link href="index.html" rel="start" title="Top" />
<link href="Concept-Index.html" rel="index" title="Concept Index" />
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents" />
<link href="Services.html" rel="up" title="Services" />
<link href="Setuid-Programs.html" rel="next" title="Setuid Programs" />
<link href="Hurd-Services.html" rel="prev" title="Hurd Services" />
<style type="text/css">
&amp;lt;!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
--&amp;gt;
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/gnulib/manual.css" />

<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" type="text/css" href="../../../static/base/css/manual.css" /><link rel="stylesheet" type="text/css" href="../../../static/base/css/code.css" /></head>

<body lang="en"><header class="navbar"><h1><a class="branding" href="https://guix.gnu.org/manual/en/"></a></h1><nav class="navbar-menu"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="all-dropdowns-hidden" /><ul><li class="navbar-menu-item dropdown dropdown-btn"><input class="navbar-menu-hidden-input" type="radio" name="dropdown" id="visible-dropdown" /><label for="visible-dropdown"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><label for="all-dropdowns-hidden"><img alt="Language" src="../../../static/base/img/language-picker.svg" /></label><div class="navbar-submenu" id="navbar-submenu"><div class="navbar-submenu-triangle"> </div><ul><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/de/html_node">Deutsch</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/en/html_node">English</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/es/html_node">Español</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/fr/html_node">français</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/pt-br/html_node">Português</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/ru/html_node">русский</a></li><li><a class="navbar-menu-item" href="https://guix.gnu.org/manual/zh-cn/html_node">中文</a></li><li><a class="navbar-menu-item" href="https://translate.fedoraproject.org/projects/guix/documentation-manual/">⊕</a></li></ul></div></li></ul></nav><a class="navbar-menu-btn" href="https://guix.gnu.org/manual/"></a></header>
<span id="Miscellaneous-Services"></span><div class="header">
<p>
Previous: <a href="Hurd-Services.html" accesskey="p" rel="prev">Hurd Services</a>, Up: <a href="Services.html" accesskey="u" rel="up">Services</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr />
<span id="Miscellaneous-Services-1"></span><h4 class="subsection">12.9.36 Miscellaneous Services</h4>

<span id="index-fingerprint"></span>
<span id="Fingerprint-Service"></span><h4 class="subsubheading">Fingerprint Service</h4>

<p>The <code>(gnu services authentication)</code> module provides a DBus service to
read and identify fingerprints via a fingerprint sensor.
</p>
<dl>
<dt id="index-fprintd_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">fprintd-service-type </span></dt>
<dd><p>The service type for <code>fprintd</code>, which provides the fingerprint
reading capability.
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="Miscellaneous-Services.html#index-fprintd_002dservice_002dtype">fprintd-service-type</a></span>)</span>
</pre></div>
</dd></dl>

<span id="index-sysctl"></span>
<span id="System-Control-Service"></span><h4 class="subsubheading">System Control Service</h4>

<p>The <code>(gnu services sysctl)</code> provides a service to configure kernel
parameters at boot.
</p>
<dl>
<dt id="index-sysctl_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">sysctl-service-type </span></dt>
<dd><p>The service type for <code>sysctl</code>, which modifies kernel parameters
under <samp>/proc/sys/</samp>.  To enable IPv4 forwarding, it can be
instantiated as:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="Miscellaneous-Services.html#index-sysctl_002dservice_002dtype">sysctl-service-type</a>
         <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-sysctl_002dconfiguration">sysctl-configuration</a>
           <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">settings</span> <span class="syntax-symbol">'</span><span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-paren4">(<span class="syntax-symbol"><span class="syntax-string">"net.ipv4.ip_forward"</span> <span class="syntax-symbol">.</span> <span class="syntax-string">"1"</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>

<p>Since <code>sysctl-service-type</code> is used in the default lists of
services, <code>%base-services</code> and <code>%desktop-services</code>, you can
use <code>modify-services</code> to change its configuration and add the
kernel parameters that you want (see <a href="Service-Reference.html"><code>modify-services</code></a>).
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-modify_002dservices-1">modify-services</a> <a class="syntax-symbol" href="Base-Services.html#index-_0025base_002dservices-1">%base-services</a>
  <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-sysctl_002dservice_002dtype">sysctl-service-type</a> <span class="syntax-symbol">config</span> <a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Syntax-Rules.html#index-_003d_003e">=&gt;</a>
                       <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-sysctl_002dconfiguration">sysctl-configuration</a>
                         <span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-symbol">settings</span> <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Append_002fReverse.html#index-append">append</a> <span class="syntax-symbol">'</span><span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-paren6">(<span class="syntax-symbol"><span class="syntax-string">"net.ipv4.ip_forward"</span> <span class="syntax-symbol">.</span> <span class="syntax-string">"1"</span></span>)</span></span>)</span>
                                           <a class="syntax-symbol" href="Miscellaneous-Services.html#index-_0025default_002dsysctl_002dsettings">%default-sysctl-settings</a></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>

</dd></dl>

<dl>
<dt id="index-sysctl_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">sysctl-configuration </span></dt>
<dd><p>The data type representing the configuration of <code>sysctl</code>.
</p>
<dl compact="compact">
<dt><code>sysctl</code> (default: <code>(file-append procps "/sbin/sysctl"</code>)</dt>
<dd><p>The <code>sysctl</code> executable to use.
</p>
</dd>
<dt><code>settings</code> (default: <code>%default-sysctl-settings</code>)</dt>
<dd><p>An association list specifies kernel parameters and their values.
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-_0025default_002dsysctl_002dsettings" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">%default-sysctl-settings </span></dt>
<dd><p>An association list specifying the default <code>sysctl</code> parameters
on Guix System.
</p></dd></dl>

<span id="index-pcscd"></span>
<span id="PC_002fSC-Smart-Card-Daemon-Service"></span><h4 class="subsubheading">PC/SC Smart Card Daemon Service</h4>

<p>The <code>(gnu services security-token)</code> module provides the following service
to run <code>pcscd</code>, the PC/SC Smart Card Daemon.  <code>pcscd</code> is the
daemon program for pcsc-lite and the MuscleCard framework.  It is a resource
manager that coordinates communications with smart card readers, smart cards
and cryptographic tokens that are connected to the system.
</p>
<dl>
<dt id="index-pcscd_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">pcscd-service-type </span></dt>
<dd><p>Service type for the <code>pcscd</code> service.  Its value must be a
<code>pcscd-configuration</code> object.  To run pcscd in the default
configuration, instantiate it as:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="Miscellaneous-Services.html#index-pcscd_002dservice_002dtype">pcscd-service-type</a></span>)</span>
</pre></div>
</dd></dl>

<dl>
<dt id="index-pcscd_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">pcscd-configuration </span></dt>
<dd><p>The data type representing the configuration of <code>pcscd</code>.
</p>
<dl compact="compact">
<dt><code>pcsc-lite</code> (default: <code>pcsc-lite</code>)</dt>
<dd><p>The pcsc-lite package that provides pcscd.
</p></dd>
<dt><code>usb-drivers</code> (default: <code>(list ccid)</code>)</dt>
<dd><p>List of packages that provide USB drivers to pcscd.  Drivers are expected to be
under <samp>pcsc/drivers</samp> in the store directory of the package.
</p></dd>
</dl>
</dd></dl>

<span id="index-lirc"></span>
<span id="Lirc-Service"></span><h4 class="subsubheading">Lirc Service</h4>

<p>The <code>(gnu services lirc)</code> module provides the following service.
</p>
<dl>
<dt id="index-lirc_002dservice" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">lirc-service [#:lirc lirc]        [#:device #f] [#:driver #f] [#:config-file #f]        [#:extra-options '()]</span></dt>
<dd><p>Return a service that runs <a href="http://www.lirc.org">LIRC</a>, a daemon that
decodes infrared signals from remote controls.
</p>
<p>Optionally, <var>device</var>, <var>driver</var> and <var>config-file</var>
(configuration file name) may be specified.  See <code>lircd</code> manual
for details.
</p>
<p>Finally, <var>extra-options</var> is a list of additional command-line options
passed to <code>lircd</code>.
</p></dd></dl>

<span id="index-spice"></span>
<span id="Spice-Service"></span><h4 class="subsubheading">Spice Service</h4>

<p>The <code>(gnu services spice)</code> module provides the following service.
</p>
<dl>
<dt id="index-spice_002dvdagent_002dservice" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">spice-vdagent-service [#:spice-vdagent]</span></dt>
<dd><p>Returns a service that runs <a href="https://www.spice-space.org">VDAGENT</a>, a daemon
that enables sharing the clipboard with a vm and setting the guest display
resolution when the graphical console window resizes.
</p></dd></dl>

<span id="index-inputattach"></span>
<span id="inputattach-Service"></span><h4 class="subsubheading">inputattach Service</h4>

<span id="index-tablet-input_002c-for-Xorg"></span>
<span id="index-touchscreen-input_002c-for-Xorg"></span>
<p>The <a href="https://linuxwacom.github.io/">inputattach</a> service allows you to
use input devices such as Wacom tablets, touchscreens, or joysticks with the
Xorg display server.
</p>
<dl>
<dt id="index-inputattach_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">inputattach-service-type </span></dt>
<dd><p>Type of a service that runs <code>inputattach</code> on a device and
dispatches events from it.
</p></dd></dl>

<dl>
<dt id="index-inputattach_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">inputattach-configuration </span></dt>
<dd><dl compact="compact">
<dt><code>device-type</code> (default: <code>"wacom"</code>)</dt>
<dd><p>The type of device to connect to.  Run <code>inputattach --help</code>, from the
<code>inputattach</code> package, to see the list of supported device types.
</p>
</dd>
<dt><code>device</code> (default: <code>"/dev/ttyS0"</code>)</dt>
<dd><p>The device file to connect to the device.
</p>
</dd>
<dt><code>baud-rate</code> (default: <code>#f</code>)</dt>
<dd><p>Baud rate to use for the serial connection.
Should be a number or <code>#f</code>.
</p>
</dd>
<dt><code>log-file</code> (default: <code>#f</code>)</dt>
<dd><p>If true, this must be the name of a file to log messages to.
</p></dd>
</dl>
</dd></dl>

<span id="Dictionary-Service"></span><h4 class="subsubheading">Dictionary Service</h4>
<span id="index-dictionary"></span>
<p>The <code>(gnu services dict)</code> module provides the following service:
</p>
<dl>
<dt id="index-dicod_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">dicod-service-type </span></dt>
<dd><p>This is the type of the service that runs the <code>dicod</code> daemon, an
implementation of DICT server (see <a href="https://puszcza.gnu.org.ua/software/dico/manual/html_node/Dicod.html#Dicod">Dicod</a> in <cite>GNU Dico Manual</cite>).
</p></dd></dl>

<dl>
<dt id="index-dicod_002dservice" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">dicod-service [#:config (dicod-configuration)]</span></dt>
<dd><p>Return a service that runs the <code>dicod</code> daemon, an implementation
of DICT server (see <a href="https://puszcza.gnu.org.ua/software/dico/manual/html_node/Dicod.html#Dicod">Dicod</a> in <cite>GNU Dico Manual</cite>).
</p>
<p>The optional <var>config</var> argument specifies the configuration for
<code>dicod</code>, which should be a <code>&lt;dicod-configuration&gt;</code> object, by
default it serves the GNU Collaborative International Dictionary of English.
</p>
<p>You can add <code>open localhost</code> to your <samp>~/.dico</samp> file to make
<code>localhost</code> the default server for <code>dico</code> client
(see <a href="https://puszcza.gnu.org.ua/software/dico/manual/html_node/Initialization-File.html#Initialization-File">Initialization File</a> in <cite>GNU Dico Manual</cite>).
</p></dd></dl>

<dl>
<dt id="index-dicod_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">dicod-configuration </span></dt>
<dd><p>Data type representing the configuration of dicod.
</p>
<dl compact="compact">
<dt><code>dico</code> (default: <var>dico</var>)</dt>
<dd><p>Package object of the GNU Dico dictionary server.
</p>
</dd>
<dt><code>interfaces</code> (default: <var>&rsquo;("localhost")</var>)</dt>
<dd><p>This is the list of IP addresses and ports and possibly socket file
names to listen to (see <a href="https://puszcza.gnu.org.ua/software/dico/manual/html_node/Server-Settings.html#Server-Settings"><code>listen</code> directive</a> in <cite>GNU Dico Manual</cite>).
</p>
</dd>
<dt><code>handlers</code> (default: <var>&rsquo;()</var>)</dt>
<dd><p>List of <code>&lt;dicod-handler&gt;</code> objects denoting handlers (module instances).
</p>
</dd>
<dt><code>databases</code> (default: <var>(list %dicod-database:gcide)</var>)</dt>
<dd><p>List of <code>&lt;dicod-database&gt;</code> objects denoting dictionaries to be served.
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-dicod_002dhandler" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">dicod-handler </span></dt>
<dd><p>Data type representing a dictionary handler (module instance).
</p>
<dl compact="compact">
<dt><code>name</code></dt>
<dd><p>Name of the handler (module instance).
</p>
</dd>
<dt><code>module</code> (default: <var>#f</var>)</dt>
<dd><p>Name of the dicod module of the handler (instance).  If it is <code>#f</code>,
the module has the same name as the handler.
(see <a href="https://puszcza.gnu.org.ua/software/dico/manual/html_node/Modules.html#Modules">Modules</a> in <cite>GNU Dico Manual</cite>).
</p>
</dd>
<dt><code>options</code></dt>
<dd><p>List of strings or gexps representing the arguments for the module handler
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-dicod_002ddatabase" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">dicod-database </span></dt>
<dd><p>Data type representing a dictionary database.
</p>
<dl compact="compact">
<dt><code>name</code></dt>
<dd><p>Name of the database, will be used in DICT commands.
</p>
</dd>
<dt><code>handler</code></dt>
<dd><p>Name of the dicod handler (module instance) used by this database
(see <a href="https://puszcza.gnu.org.ua/software/dico/manual/html_node/Handlers.html#Handlers">Handlers</a> in <cite>GNU Dico Manual</cite>).
</p>
</dd>
<dt><code>complex?</code> (default: <var>#f</var>)</dt>
<dd><p>Whether the database configuration complex.  The complex configuration
will need a corresponding <code>&lt;dicod-handler&gt;</code> object, otherwise not.
</p>
</dd>
<dt><code>options</code></dt>
<dd><p>List of strings or gexps representing the arguments for the database
(see <a href="https://puszcza.gnu.org.ua/software/dico/manual/html_node/Databases.html#Databases">Databases</a> in <cite>GNU Dico Manual</cite>).
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-_0025dicod_002ddatabase_003agcide" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">%dicod-database:gcide </span></dt>
<dd><p>A <code>&lt;dicod-database&gt;</code> object serving the GNU Collaborative International
Dictionary of English using the <code>gcide</code> package.
</p></dd></dl>

<p>The following is an example <code>dicod-service</code> configuration.
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-dicod_002dservice">dicod-service</a> <span class="syntax-keyword">#:config</span>
  <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-dicod_002dconfiguration">dicod-configuration</a>
   <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">handlers</span> <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a> <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-dicod_002dhandler">dicod-handler</a>
                    <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">name</span> <span class="syntax-string">"wordnet"</span></span>)</span>
                    <span class="syntax-paren5">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Module-Commands.html#index-module">module</a> <span class="syntax-string">"dictorg"</span></span>)</span>
                    <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">options</span>
                     <span class="syntax-paren6">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a> <span class="syntax-symbol">#~</span><span class="syntax-paren7">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Reversing-and-Appending-Strings.html#index-string_002dappend">string-append</a> <span class="syntax-string">"dbdir="</span> <span class="syntax-symbol">#$wordnet</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span>
   <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">databases</span> <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a> <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-dicod_002ddatabase">dicod-database</a>
                     <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">name</span> <span class="syntax-string">"wordnet"</span></span>)</span>
                     <span class="syntax-paren5">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Complex-Numbers.html#index-complex_003f">complex?</a> <span class="syntax-symbol">#t</span></span>)</span>
                     <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">handler</span> <span class="syntax-string">"wordnet"</span></span>)</span>
                     <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">options</span> <span class="syntax-symbol">'</span><span class="syntax-paren6">(<span class="syntax-symbol"><span class="syntax-string">"database=wn"</span></span>)</span></span>)</span></span>)</span>
                    <a class="syntax-symbol" href="Miscellaneous-Services.html#index-_0025dicod_002ddatabase_003agcide">%dicod-database:gcide</a></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>

<span id="index-Docker"></span>
<span id="Docker-Service"></span><h4 class="subsubheading">Docker Service</h4>

<p>The <code>(gnu services docker)</code> module provides the following services.
</p>
<dl>
<dt id="index-docker_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">docker-service-type </span></dt>
<dd>
<p>This is the type of the service that runs <a href="https://www.docker.com">Docker</a>,
a daemon that can execute application bundles (sometimes referred to as
&ldquo;containers&rdquo;) in isolated environments.
</p>
</dd></dl>

<dl>
<dt id="index-docker_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">docker-configuration </span></dt>
<dd><p>This is the data type representing the configuration of Docker and Containerd.
</p>
<dl compact="compact">
<dt><code>docker</code> (default: <code>docker</code>)</dt>
<dd><p>The Docker daemon package to use.
</p>
</dd>
<dt><code>docker-cli</code> (default: <code>docker-cli</code>)</dt>
<dd><p>The Docker client package to use.
</p>
</dd>
<dt><code>containerd</code> (default: <var>containerd</var>)</dt>
<dd><p>The Containerd package to use.
</p>
</dd>
<dt><code>proxy</code> (default <var>docker-libnetwork-cmd-proxy</var>)</dt>
<dd><p>The Docker user-land networking proxy package to use.
</p>
</dd>
<dt><code>enable-proxy?</code> (default <code>#t</code>)</dt>
<dd><p>Enable or disable the use of the Docker user-land networking proxy.
</p>
</dd>
<dt><code>debug?</code> (default <code>#f</code>)</dt>
<dd><p>Enable or disable debug output.
</p>
</dd>
<dt><code>enable-iptables?</code> (default <code>#t</code>)</dt>
<dd><p>Enable or disable the addition of iptables rules.
</p>
</dd>
<dt><code>environment-variables</code> (default: <code>()</code>)</dt>
<dd><p>List of environment variables to set for <code>dockerd</code>.
</p>
<p>This must be a list of strings where each string has the form
&lsquo;<samp><var>key</var>=<var>value</var></samp>&rsquo; as in this example:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a> <span class="syntax-string">"LANGUAGE=eo:ca:eu"</span>
      <span class="syntax-string">"TMPDIR=/tmp/dockerd"</span></span>)</span>
</pre></div>

</dd>
</dl>
</dd></dl>

<span id="index-Singularity_002c-container-service"></span>
<dl>
<dt id="index-singularity_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">singularity-service-type </span></dt>
<dd><p>This is the type of the service that allows you to run
<a href="https://www.sylabs.io/singularity/">Singularity</a>, a Docker-style tool to
create and run application bundles (aka. &ldquo;containers&rdquo;).  The value for this
service is the Singularity package to use.
</p>
<p>The service does not install a daemon; instead, it installs helper programs as
setuid-root (see <a href="Setuid-Programs.html">Setuid Programs</a>) such that unprivileged users can invoke
<code>singularity run</code> and similar commands.
</p></dd></dl>

<span id="index-Audit"></span>
<span id="Auditd-Service"></span><h4 class="subsubheading">Auditd Service</h4>

<p>The <code>(gnu services auditd)</code> module provides the following service.
</p>
<dl>
<dt id="index-auditd_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">auditd-service-type </span></dt>
<dd>
<p>This is the type of the service that runs
<a href="https://people.redhat.com/sgrubb/audit/">auditd</a>,
a daemon that tracks security-relevant information on your system.
</p>
<p>Examples of things that can be tracked:
</p>
<ol>
<li> File accesses
</li><li> System calls
</li><li> Invoked commands
</li><li> Failed login attempts
</li><li> Firewall filtering
</li><li> Network access
</li></ol>

<p><code>auditctl</code> from the <code>audit</code> package can be used in order
to add or remove events to be tracked (until the next reboot).
In order to permanently track events, put the command line arguments
of auditctl into a file called <code>audit.rules</code> in the configuration
directory (see below).
<code>aureport</code> from the <code>audit</code> package can be used in order
to view a report of all recorded events.
The audit daemon by default logs into the file
<samp>/var/log/audit.log</samp>.
</p>
</dd></dl>

<dl>
<dt id="index-auditd_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">auditd-configuration </span></dt>
<dd><p>This is the data type representing the configuration of auditd.
</p>
<dl compact="compact">
<dt><code>audit</code> (default: <code>audit</code>)</dt>
<dd><p>The audit package to use.
</p>
</dd>
<dt><code>configuration-directory</code> (default: <code>%default-auditd-configuration-directory</code>)</dt>
<dd><p>The directory containing the configuration file for the audit package, which
must be named <code>auditd.conf</code>, and optionally some audit rules to
instantiate on startup.
</p>
</dd>
</dl>
</dd></dl>

<span id="index-rshiny"></span>
<span id="R_002dShiny-service"></span><h4 class="subsubheading">R-Shiny service</h4>

<p>The <code>(gnu services science)</code> module provides the following service.
</p>
<dl>
<dt id="index-rshiny_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">rshiny-service-type </span></dt>
<dd>
<p>This is a type of service which is used to run a webapp created with
<code>r-shiny</code>.  This service sets the <code>R_LIBS_USER</code> environment
variable and runs the provided script to call <code>runApp</code>.
</p>
<dl>
<dt id="index-rshiny_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">rshiny-configuration </span></dt>
<dd><p>This is the data type representing the configuration of rshiny.
</p>
<dl compact="compact">
<dt><code>package</code> (default: <code>r-shiny</code>)</dt>
<dd><p>The package to use.
</p>
</dd>
<dt><code>binary</code> (default <code>"rshiny"</code>)</dt>
<dd><p>The name of the binary or shell script located at <code>package/bin/</code> to
run when the service is run.
</p>
<p>The common way to create this file is as follows:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-symbol">…</span>
<span class="syntax-paren0">(<span class="syntax-symbol"><span class="syntax-special">let*</span> <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">out</span>       <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Retrieving-Alist-Entries.html#index-assoc_002dref">assoc-ref</a> <span class="syntax-symbol">%outputs</span> <span class="syntax-string">"out"</span></span>)</span></span>)</span>
       <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">targetdir</span> <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Reversing-and-Appending-Strings.html#index-string_002dappend">string-append</a> <span class="syntax-symbol">out</span> <span class="syntax-string">"/share/"</span> <span class="syntax-symbol">,name</span></span>)</span></span>)</span>
       <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">app</span>       <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Reversing-and-Appending-Strings.html#index-string_002dappend">string-append</a> <span class="syntax-symbol">out</span> <span class="syntax-string">"/bin/"</span> <span class="syntax-symbol">,name</span></span>)</span></span>)</span>
       <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-symbol">Rbin</span>      <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Build-Utilities.html#index-search_002dinput_002dfile">search-input-file</a> <span class="syntax-symbol">%build-inputs</span> <span class="syntax-string">"/bin/Rscript"</span></span>)</span></span>)</span></span>)</span>
  <span class="syntax-comment">;; …
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="Build-Utilities.html#index-mkdir_002dp">mkdir-p</a> <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Reversing-and-Appending-Strings.html#index-string_002dappend">string-append</a> <span class="syntax-symbol">out</span> <span class="syntax-string">"/bin"</span></span>)</span></span>)</span>
  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-special">call-with-output-file</span> <span class="syntax-symbol">app</span>
    <span class="syntax-paren2">(<span class="syntax-symbol"><span class="syntax-special">lambda</span> <span class="syntax-paren3">(<span class="syntax-symbol"><span class="syntax-symbol">port</span></span>)</span>
      <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Formatted-Output.html#index-format-1">format</a> <span class="syntax-symbol">port</span>
<span class="syntax-string">"#!~a
library(shiny)
setwd(\"~a\")
runApp(launch.browser=0, port=4202)~%\n"</span>
      <span class="syntax-symbol">Rbin</span> <span class="syntax-symbol">targetdir</span></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>

</dd>
</dl>
</dd></dl>
</dd></dl>

<span id="index-Nix"></span>
<span id="Nix-service"></span><h4 class="subsubheading">Nix service</h4>

<p>The <code>(gnu services nix)</code> module provides the following service.
</p>
<dl>
<dt id="index-nix_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">nix-service-type </span></dt>
<dd>
<p>This is the type of the service that runs build daemon of the
<a href="https://nixos.org/nix/">Nix</a> package manager.  Here is an example showing
how to use it:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Using-Guile-Modules.html#index-use_002dmodules">use-modules</a> <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">gnu</span></span>)</span></span>)</span>
<span class="syntax-paren0">(<span class="syntax-symbol"><span class="syntax-symbol">use-service-modules</span> <span class="syntax-symbol">nix</span></span>)</span>
<span class="syntax-paren0">(<span class="syntax-symbol"><span class="syntax-symbol">use-package-modules</span> <span class="syntax-symbol">package-management</span></span>)</span>

<span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="operating_002dsystem-Reference.html#index-operating_002dsystem-1">operating-system</a>
  <span class="syntax-comment">;; …
</span>  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">packages</span> <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Append_002fReverse.html#index-append">append</a> <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a> <span class="syntax-symbol">nix</span></span>)</span>
                    <span class="syntax-symbol">%base-packages</span></span>)</span></span>)</span>

  <span class="syntax-paren1">(<span class="syntax-symbol"><span class="syntax-symbol">services</span> <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Append_002fReverse.html#index-append">append</a> <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a> <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="Miscellaneous-Services.html#index-nix_002dservice_002dtype">nix-service-type</a></span>)</span></span>)</span>
                    <a class="syntax-symbol" href="Base-Services.html#index-_0025base_002dservices-1">%base-services</a></span>)</span></span>)</span></span>)</span>
</pre></div>

<p>After <code>guix system reconfigure</code> configure Nix for your user:
</p>
<ul>
<li> Add a Nix channel and update it.  See
<a href="https://nixos.org/nix/manual/">Nix Package Manager Guide</a>.

</li><li> Create a symlink to your profile and activate Nix profile:
</li></ul>

<div class="example">
<pre class="example">$ ln -s "/nix/var/nix/profiles/per-user/$USER/profile" ~/.nix-profile
$ source /run/current-system/profile/etc/profile.d/nix.sh
</pre></div>

</dd></dl>

<dl>
<dt id="index-nix_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">nix-configuration </span></dt>
<dd><p>This data type represents the configuration of the Nix daemon.
</p>
<dl compact="compact">
<dt><code>nix</code> (default: <code>nix</code>)</dt>
<dd><p>The Nix package to use.
</p>
</dd>
<dt><code>sandbox</code> (default: <code>#t</code>)</dt>
<dd><p>Specifies whether builds are sandboxed by default.
</p>
</dd>
<dt><code>build-sandbox-items</code> (default: <code>'()</code>)</dt>
<dd><p>This is a list of strings or objects appended to the
<code>build-sandbox-items</code> field of the configuration file.
</p>
</dd>
<dt><code>extra-config</code> (default: <code>'()</code>)</dt>
<dd><p>This is a list of strings or objects appended to the configuration file.
It is used to pass extra text to be added verbatim to the configuration
file.
</p>
</dd>
<dt><code>extra-options</code> (default: <code>'()</code>)</dt>
<dd><p>Extra command line options for <code>nix-service-type</code>.
</p></dd>
</dl>
</dd></dl>

<span id="index-Fail2Ban"></span>
<span id="Fail2Ban-service"></span><h4 class="subsubheading">Fail2Ban service</h4>

<p><a href="http://www.fail2ban.org/"><code>fail2ban</code></a> scans log files
(e.g. <code>/var/log/apache/error_log</code>) and bans IP addresses that show
malicious signs &ndash; repeated password failures, attempts to make use of
exploits, etc.
</p>
<p><code>fail2ban-service-type</code> service type is provided by the <code>(gnu
services security)</code> module.
</p>
<p>This service type runs the <code>fail2ban</code> daemon.  It can be configured
in various ways, which are:
</p>
<dl compact="compact">
<dt>Basic configuration</dt>
<dd><p>The basic parameters of the Fail2Ban service can be configured via its
<code>fail2ban</code> configuration, which is documented below.
</p>
</dd>
<dt>User-specified jail extensions</dt>
<dd><p>The <code>fail2ban-jail-service</code> function can be used to add new
Fail2Ban jails.
</p>
</dd>
<dt>Shepherd extension mechanism</dt>
<dd><p>Service developers can extend the <code>fail2ban-service-type</code> service
type itself via the usual service extension mechanism.
</p></dd>
</dl>

<dl>
<dt id="index-fail2ban_002dservice_002dtype" class="symbol-definition"><span class="symbol-definition-category">Scheme Variable: </span><span class="symbol-definition-prototype">fail2ban-service-type </span></dt>
<dd>
<p>This is the type of the service that runs <code>fail2ban</code> daemon.  Below
is an example of a basic, explicit configuration:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Append_002fReverse.html#index-append">append</a>
 <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a>
  <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="Miscellaneous-Services.html#index-fail2ban_002dservice_002dtype">fail2ban-service-type</a>
           <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-fail2ban_002dconfiguration">fail2ban-configuration</a>
            <span class="syntax-paren4">(<span class="syntax-symbol"><span class="syntax-symbol">extra-jails</span>
             <span class="syntax-paren5">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a>
              <span class="syntax-paren6">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-fail2ban_002djail_002dconfiguration">fail2ban-jail-configuration</a>
               <span class="syntax-paren7">(<span class="syntax-symbol"><span class="syntax-symbol">name</span> <span class="syntax-string">"sshd"</span></span>)</span>
               <span class="syntax-paren7">(<span class="syntax-symbol"><span class="syntax-symbol">enabled?</span> <span class="syntax-symbol">#t</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span></span>)</span>
  <span class="syntax-comment">;; There is no implicit dependency on an actual SSH
</span>  <span class="syntax-comment">;; service, so you need to provide one.
</span>  <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a> <a class="syntax-symbol" href="Networking-Services.html#index-openssh_002dservice_002dtype">openssh-service-type</a></span>)</span></span>)</span>
 <a class="syntax-symbol" href="Base-Services.html#index-_0025base_002dservices-1">%base-services</a></span>)</span>
</pre></div>
</dd></dl>

<dl>
<dt id="index-fail2ban_002djail_002dservice" class="symbol-definition"><span class="symbol-definition-category">Scheme Procedure: </span><span class="symbol-definition-prototype">fail2ban-jail-service <var>svc-type</var> <var>jail</var></span></dt>
<dd><p>Extend <var>svc-type</var>, a <code>&lt;service-type&gt;</code> object with <var>jail</var>, a
<code>fail2ban-jail-configuration</code> object.
</p>
<p>For example:
</p>
<div class="lisp">
<pre class="lisp"><span class="syntax-paren0">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Append_002fReverse.html#index-append">append</a>
 <span class="syntax-paren1">(<span class="syntax-symbol"><a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/List-Constructors.html#index-list-1">list</a>
  <span class="syntax-paren2">(<span class="syntax-symbol"><a class="syntax-symbol" href="Service-Reference.html#index-service">service</a>
   <span class="syntax-comment">;; The 'fail2ban-jail-service' procedure can extend any service type
</span>   <span class="syntax-comment">;; with a fail2ban jail.  This removes the requirement to explicitly
</span>   <span class="syntax-comment">;; extend services with fail2ban-service-type.
</span>   <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-fail2ban_002djail_002dservice">fail2ban-jail-service</a>
    <a class="syntax-symbol" href="Networking-Services.html#index-openssh_002dservice_002dtype">openssh-service-type</a>
    <span class="syntax-paren4">(<span class="syntax-symbol"><a class="syntax-symbol" href="Miscellaneous-Services.html#index-fail2ban_002djail_002dconfiguration">fail2ban-jail-configuration</a>
     <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">name</span> <span class="syntax-string">"sshd"</span></span>)</span>
     <span class="syntax-paren5">(<span class="syntax-symbol"><span class="syntax-symbol">enabled?</span> <span class="syntax-symbol">#t</span></span>)</span></span>)</span></span>)</span>
   <span class="syntax-paren3">(<span class="syntax-symbol"><a class="syntax-symbol" href="Networking-Services.html#index-openssh_002dconfiguration">openssh-configuration</a> <a class="syntax-symbol" href="https://www.gnu.org/software/guile/manual/html_node/Syntax-Rules.html#index-_002e_002e_002e">...</a></span>)</span></span>)</span></span>)</span></span>)</span>
</pre></div>
</dd></dl>

<p>Below is the reference for the different <code>jail-service-type</code>
configuration records.
</p>

<dl>
<dt id="index-fail2ban_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">fail2ban-configuration </span></dt>
<dd><p>Available <code>fail2ban-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>fail2ban</code> (default: <code>fail2ban</code>) (type: package)</dt>
<dd><p>The <code>fail2ban</code> package to use.  It is used for both binaries and as
base default configuration that is to be extended with
<code>&lt;fail2ban-jail-configuration&gt;</code> objects.
</p>
</dd>
<dt><code>run-directory</code> (default: <code>"/var/run/fail2ban"</code>) (type: string)</dt>
<dd><p>The state directory for the <code>fail2ban</code> daemon.
</p>
</dd>
<dt><code>jails</code> (default: <code>()</code>) (type: list-of-fail2ban-jail-configurations)</dt>
<dd><p>Instances of <code>&lt;fail2ban-jail-configuration&gt;</code> collected from
extensions.
</p>
</dd>
<dt><code>extra-jails</code> (default: <code>()</code>) (type: list-of-fail2ban-jail-configurations)</dt>
<dd><p>Instances of <code>&lt;fail2ban-jail-configuration&gt;</code> explicitly provided.
</p>
</dd>
<dt><code>extra-content</code> (default: <code>()</code>) (type: text-config)</dt>
<dd><p>Extra raw content to add to the end of the <samp>jail.local</samp> file,
provided as a list of file-like objects.
</p>
</dd>
</dl>

</dd></dl>

<dl>
<dt id="index-fail2ban_002dignore_002dcache_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">fail2ban-ignore-cache-configuration </span></dt>
<dd><p>Available <code>fail2ban-ignore-cache-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>key</code> (type: string)</dt>
<dd><p>Cache key.
</p>
</dd>
<dt><code>max-count</code> (type: integer)</dt>
<dd><p>Cache size.
</p>
</dd>
<dt><code>max-time</code> (type: integer)</dt>
<dd><p>Cache time.
</p>
</dd>
</dl>

</dd></dl>

<dl>
<dt id="index-fail2ban_002djail_002daction_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">fail2ban-jail-action-configuration </span></dt>
<dd><p>Available <code>fail2ban-jail-action-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>name</code> (type: string)</dt>
<dd><p>Action name.
</p>
</dd>
<dt><code>arguments</code> (default: <code>()</code>) (type: list-of-arguments)</dt>
<dd><p>Action arguments.
</p>
</dd>
</dl>

</dd></dl>

<dl>
<dt id="index-fail2ban_002djail_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">fail2ban-jail-configuration </span></dt>
<dd><p>Available <code>fail2ban-jail-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>name</code> (type: string)</dt>
<dd><p>Required name of this jail configuration.
</p>
</dd>
<dt><code>enabled?</code> (default: <code>#t</code>) (type: boolean)</dt>
<dd><p>Whether this jail is enabled.
</p>
</dd>
<dt><code>backend</code> (type: maybe-symbol)</dt>
<dd><p>Backend to use to detect changes in the <code>log-path</code>.  The default is
&rsquo;auto.  To consult the defaults of the jail configuration, refer to the
<samp>/etc/fail2ban/jail.conf</samp> file of the <code>fail2ban</code> package.
</p>
</dd>
<dt><code>max-retry</code> (type: maybe-integer)</dt>
<dd><p>The number of failures before a host get banned (e.g.  <code>(max-retry
5)</code>).
</p>
</dd>
<dt><code>max-matches</code> (type: maybe-integer)</dt>
<dd><p>The number of matches stored in ticket (resolvable via tag
<code>&lt;matches&gt;</code>) in action.
</p>
</dd>
<dt><code>find-time</code> (type: maybe-string)</dt>
<dd><p>The time window during which the maximum retry count must be reached for
an IP address to be banned.  A host is banned if it has generated
<code>max-retry</code> during the last <code>find-time</code> seconds (e.g.
<code>(find-time "10m")</code>).  It can be provided in seconds or using
Fail2Ban&rsquo;s "time abbreviation format", as described in <code>man 5
jail.conf</code>.
</p>
</dd>
<dt><code>ban-time</code> (type: maybe-string)</dt>
<dd><p>The duration, in seconds or time abbreviated format, that a ban should
last.  (e.g.  <code>(ban-time "10m")</code>).
</p>
</dd>
<dt><code>ban-time-increment?</code> (type: maybe-boolean)</dt>
<dd><p>Whether to consider past bans to compute increases to the default ban
time of a specific IP address.
</p>
</dd>
<dt><code>ban-time-factor</code> (type: maybe-string)</dt>
<dd><p>The coefficient to use to compute an exponentially growing ban time.
</p>
</dd>
<dt><code>ban-time-formula</code> (type: maybe-string)</dt>
<dd><p>This is the formula used to calculate the next value of a ban time.
</p>
</dd>
<dt><code>ban-time-multipliers</code> (type: maybe-string)</dt>
<dd><p>Used to calculate next value of ban time instead of formula.
</p>
</dd>
<dt><code>ban-time-max-time</code> (type: maybe-string)</dt>
<dd><p>The maximum number of seconds a ban should last.
</p>
</dd>
<dt><code>ban-time-rnd-time</code> (type: maybe-string)</dt>
<dd><p>The maximum number of seconds a randomized ban time should last.  This
can be useful to stop &ldquo;clever&rdquo; botnets calculating the exact time an
IP address can be unbanned again.
</p>
</dd>
<dt><code>ban-time-overall-jails?</code> (type: maybe-boolean)</dt>
<dd><p>When true, it specifies the search of an IP address in the database
should be made across all jails.  Otherwise, only the current jail of
the ban IP address is considered.
</p>
</dd>
<dt><code>ignore-self?</code> (type: maybe-boolean)</dt>
<dd><p>Never ban the local machine&rsquo;s own IP address.
</p>
</dd>
<dt><code>ignore-ip</code> (default: <code>()</code>) (type: list-of-strings)</dt>
<dd><p>A list of IP addresses, CIDR masks or DNS hosts to ignore.
<code>fail2ban</code> will not ban a host which matches an address in this
list.
</p>
</dd>
<dt><code>ignore-cache</code> (type: maybe-fail2ban-ignore-cache-configuration)</dt>
<dd><p>Provide cache parameters for the ignore failure check.
</p>
</dd>
<dt><code>filter</code> (type: maybe-fail2ban-jail-filter-configuration)</dt>
<dd><p>The filter to use by the jail, specified via a
<code>&lt;fail2ban-jail-filter-configuration&gt;</code> object.  By default, jails
have names matching their filter name.
</p>
</dd>
<dt><code>log-time-zone</code> (type: maybe-string)</dt>
<dd><p>The default time zone for log lines that do not have one.
</p>
</dd>
<dt><code>log-encoding</code> (type: maybe-symbol)</dt>
<dd><p>The encoding of the log files handled by the jail.  Possible values are:
<code>'ascii</code>, <code>'utf-8</code> and <code>'auto</code>.
</p>
</dd>
<dt><code>log-path</code> (default: <code>()</code>) (type: list-of-strings)</dt>
<dd><p>The file names of the log files to be monitored.
</p>
</dd>
<dt><code>action</code> (default: <code>()</code>) (type: list-of-fail2ban-jail-actions)</dt>
<dd><p>A list of <code>&lt;fail2ban-jail-action-configuration&gt;</code>.
</p>
</dd>
<dt><code>extra-content</code> (default: <code>()</code>) (type: text-config)</dt>
<dd><p>Extra content for the jail configuration, provided as a list of file-like
objects.
</p>
</dd>
</dl>

</dd></dl>

<dl>
<dt id="index-fail2ban_002djail_002dfilter_002dconfiguration" class="symbol-definition"><span class="symbol-definition-category">Data Type: </span><span class="symbol-definition-prototype">fail2ban-jail-filter-configuration </span></dt>
<dd><p>Available <code>fail2ban-jail-filter-configuration</code> fields are:
</p>
<dl compact="compact">
<dt><code>name</code> (type: string)</dt>
<dd><p>Filter to use.
</p>
</dd>
<dt><code>mode</code> (type: maybe-string)</dt>
<dd><p>Mode for filter.
</p>
</dd>
</dl>

</dd></dl>


<hr />
<div class="header">
<p>
Previous: <a href="Hurd-Services.html" accesskey="p" rel="prev">Hurd Services</a>, Up: <a href="Services.html" accesskey="u" rel="up">Services</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
